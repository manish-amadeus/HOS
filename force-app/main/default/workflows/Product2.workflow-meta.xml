<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>NewProductAddedtoSalesforce</fullName>
        <ccEmails>hospitality.Contracts@amadeus.com</ccEmails>
        <ccEmails>hospitality.projectoffice@amadeus.com</ccEmails>
        <description>New Product Added to Salesforce</description>
        <protected>false</protected>
        <recipients>
            <recipient>abencivenga@newmarketinc.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>jstremel@newmarketinc.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>ktownsend@newmarketinc.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>lsears@newmarketinc.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>NIFinanceWorkflowEmails/NewProductAddedtoSalesforce</template>
    </alerts>
    <fieldUpdates>
        <fullName>Check_Update_Related_DI_Names_c</fullName>
        <description>NICC-010771</description>
        <field>Update_Related_DI_Names__c</field>
        <literalValue>1</literalValue>
        <name>Check Update_Related_DI_Names__c</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Product_Code_Unique_Field</fullName>
        <description>Salesforce.com Change Request: NICC-008971

Update the &quot;Product Code Unique&quot; field based on the value in the standard &quot;Product Code&quot; field</description>
        <field>Product_Code_Unique__c</field>
        <formula>ProductCode</formula>
        <name>Update Product Code Unique Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>New Product Notification</fullName>
        <actions>
            <name>NewProductAddedtoSalesforce</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <booleanFilter>1 AND 2</booleanFilter>
        <criteriaItems>
            <field>Product2.ProductCode</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Product2.ProductCode</field>
            <operation>notContain</operation>
            <value>ZZZ-FULFILL</value>
        </criteriaItems>
        <description>Notify various users that a new product has been added to Salesforce.
Updated per NICC 050258</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Update Product Code Unique Field</fullName>
        <actions>
            <name>Update_Product_Code_Unique_Field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Salesforce.com Change Request: NICC-008971

This Workflow Rule updates the &quot;Product Code Unique&quot; field based on the value in the standard &quot;Product Code&quot; field.  There is a unique constraint placed on the &quot;Product Code Unique&quot; field.</description>
        <formula>OR(ISNEW(), ISCHANGED(ProductCode))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Related DI Names Checkbox</fullName>
        <actions>
            <name>Check_Update_Related_DI_Names_c</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>NICC-010771</description>
        <formula>AND (      NOT( ISNEW() ),      OR (          ISCHANGED( Product_Group__c ),         ISCHANGED( Classification__c ),         ISCHANGED( Interface_Classification__c ),         ISCHANGED( Support_Classification__c ),         ISCHANGED( Line__c ),         ISCHANGED( Edition__c ),         ISCHANGED( Family )     ) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
