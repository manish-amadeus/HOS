<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>New_Internal_IT_Request</fullName>
        <description>New Internal IT Request</description>
        <protected>false</protected>
        <recipients>
            <field>Requester__c</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Internal_IT_Requests/New_Request_Additional_Information_Required</template>
    </alerts>
    <alerts>
        <fullName>Non_Salesforce_New_Request_Notification</fullName>
        <description>Non-Salesforce New Request Notification</description>
        <protected>false</protected>
        <recipients>
            <field>Requester__c</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Internal_IT_Requests/New_Request_Notification</template>
    </alerts>
    <alerts>
        <fullName>Salesforce_Related_IT_Request</fullName>
        <description>Salesforce Related IT Request</description>
        <protected>false</protected>
        <recipients>
            <field>Requester__c</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Internal_IT_Requests/Salesforce_Request_Notification</template>
    </alerts>
    <alerts>
        <fullName>Send_IT_Survey</fullName>
        <description>Send IT Survey</description>
        <protected>false</protected>
        <recipients>
            <field>Requester__c</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Internal_IT_Requests/Survey_Notification</template>
    </alerts>
    <fieldUpdates>
        <fullName>Change_Owner_IT_HelpDesk_Queue</fullName>
        <description>Changes the owner of the IT Requisition to the IT HelpDesk queue</description>
        <field>OwnerId</field>
        <lookupValue>IT_HelpDesk</lookupValue>
        <lookupValueType>Queue</lookupValueType>
        <name>Change Owner - IT HelpDesk Queue</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Clear_On_Hold_Reasons</fullName>
        <field>On_Hold_Reason__c</field>
        <name>Clear On Hold Reasons</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Clear_On_Hold_Since_Date</fullName>
        <field>On_Hold_Since__c</field>
        <name>Clear On Hold Since Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Date_Submitted</fullName>
        <description>Update the Date Submitted field to the current date</description>
        <field>Date_Submitted__c</field>
        <formula>NOW()</formula>
        <name>Date Submitted</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Date_and_Time_Submitted</fullName>
        <description>Update the Date and Time Submitted field to the current date and time</description>
        <field>Date_and_Time_Submitted__c</field>
        <formula>NOW()</formula>
        <name>Date and Time Submitted</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>IT_Business_Systems_Record_Type</fullName>
        <description>Update the Record Type to &quot;IT Business Systems&quot;</description>
        <field>RecordTypeId</field>
        <lookupValue>IT_Business_Systems</lookupValue>
        <lookupValueType>RecordType</lookupValueType>
        <name>IT Business Systems Record Type</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Insert_On_Hold_Since_Date</fullName>
        <field>On_Hold_Since__c</field>
        <formula>IF(ISNULL(On_Hold_Since__c),
Now(),
On_Hold_Since__c)</formula>
        <name>Insert On Hold Since Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Resolution</fullName>
        <description>Update the Resolution field</description>
        <field>Resolution__c</field>
        <formula>&quot;THIS REQUEST HAS BEEN AUTOMATICALLY CLOSED DUE TO MISSING INFORMATION NOT BEING UPDATED WITHIN 5 BUSINESS DAYS&quot;</formula>
        <name>Resolution</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Set_Exclude_From_Survey_True</fullName>
        <description>Sets the Exclude from Survey field to &quot;true&quot;</description>
        <field>Esclude_From_Survey__c</field>
        <literalValue>1</literalValue>
        <name>Set Exclude From Survey - True</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Status_Closed</fullName>
        <description>Change the Status to Closed</description>
        <field>Status__c</field>
        <literalValue>Closed</literalValue>
        <name>Status - Closed</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Due_Date</fullName>
        <description>Update the Due Date field based on the Priority field</description>
        <field>Due_Date__c</field>
        <formula>IF(ISPICKVAL(Priority__c,&quot;* Critical&quot;), TODAY(), 
 IF(ISPICKVAL(Priority__c,&quot;1 - High (2 Business Days)&quot;),    
  TODAY() + 2,
   IF(ISPICKVAL(Priority__c,&quot;2 - Normal (5 Business Days)&quot;),    
   TODAY() + 5, 
IF(ISPICKVAL(Priority__c,&quot;3 - Low (10 Business Days)&quot;),    
   TODAY() + 10, 
   null 
     )
   )
  )
 )</formula>
        <name>Update Due Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_On_Hold_Duration</fullName>
        <field>Days_on_hold__c</field>
        <formula>PRIORVALUE(On_Hold_Time_Tracker__c)</formula>
        <name>Update On Hold Duration</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Total_Business_Hours_On_Hold</fullName>
        <description>Updates the Total Business Hours on Hold</description>
        <field>Total_Business_Hours_On_Hold__c</field>
        <formula>IF(ISBLANK(Total_Business_Hours_On_Hold__c),PRIORVALUE(Business_Hours_on_Hold__c), PRIORVALUE(Business_Hours_on_Hold__c) + PRIORVALUE( Total_Business_Hours_On_Hold__c)
)</formula>
        <name>Update Total Business Hours On Hold</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Date Submitted</fullName>
        <actions>
            <name>Date_and_Time_Submitted</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <booleanFilter>1 AND 2 AND 3 AND 4 AND 5 AND 6 AND 7 AND 8 AND 9 AND 10 AND 11</booleanFilter>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.RecordTypeId</field>
            <operation>equals</operation>
            <value>New Request</value>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.I_Need_Assistance_With__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Subject__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Description__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Steps_to_Reproduce__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Priority__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Business_Impact__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Does_this_affect_data_integrity__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Do_you_have_a_viable_workaround__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Is_this_customer_facing_issue__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Business_Functionality_Details__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Updates the Date Submitted field with the date that all of the required fields have been updated</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>IT Business Systems Team Record Type</fullName>
        <actions>
            <name>IT_Business_Systems_Record_Type</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.OwnerId</field>
            <operation>equals</operation>
            <value>IT Business Systems</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>New Request Additional Information Required v2</fullName>
        <actions>
            <name>New_Internal_IT_Request</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Update_Due_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <booleanFilter>1 AND (2 OR 3 OR 4 OR 5 OR 6 OR 7 OR 8 OR 9 OR 10 OR 11)</booleanFilter>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.RecordTypeId</field>
            <operation>equals</operation>
            <value>New Request</value>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.I_Need_Assistance_With__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Subject__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Description__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Steps_to_Reproduce__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Priority__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Business_Impact__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Does_this_affect_data_integrity__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Do_you_have_a_viable_workaround__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Is_this_customer_facing_issue__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Business_Functionality_Details__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Sends an e-mail when a new record is created with the &quot;New Request&quot; record type and required fields are not updated</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Resolution</name>
                <type>FieldUpdate</type>
            </actions>
            <actions>
                <name>Set_Exclude_From_Survey_True</name>
                <type>FieldUpdate</type>
            </actions>
            <actions>
                <name>Status_Closed</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>AH_Internal_IT_Request__c.CreatedDate</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Hours</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>New Request Initial Email Notification</fullName>
        <actions>
            <name>Non_Salesforce_New_Request_Notification</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <booleanFilter>1 AND 2</booleanFilter>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.I_Need_Assistance_With__c</field>
            <operation>notEqual</operation>
            <value>Salesforce</value>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.I_Need_Assistance_With__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <description>This workflow rule sends the New Request Email notification  when Salesforce is NOT selected in the &quot;I Need Assistance with&quot; field.  There is a different workflow rule for &quot;Salesforce&quot; specific requests</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Priority Change</fullName>
        <actions>
            <name>Update_Due_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Execute the following logic when the value in the Priority field changes</description>
        <formula>ISCHANGED(Priority__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Put Project %22On Hold%22</fullName>
        <actions>
            <name>Insert_On_Hold_Since_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Status__c</field>
            <operation>equals</operation>
            <value>On Hold (Pending User Input)</value>
        </criteriaItems>
        <description>Insert today&apos;s date into the &quot;On Hold Since&quot; field</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Required Information Updated - Assign to Help Desk</fullName>
        <actions>
            <name>Change_Owner_IT_HelpDesk_Queue</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Date_Submitted</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Date_and_Time_Submitted</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <booleanFilter>1 AND 2 AND 3 AND 4 AND 5 AND 6 AND 7 AND 8 AND 9 AND 10 AND 11</booleanFilter>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.RecordTypeId</field>
            <operation>equals</operation>
            <value>New Request</value>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.I_Need_Assistance_With__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Subject__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Description__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Steps_to_Reproduce__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Priority__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Business_Impact__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Does_this_affect_data_integrity__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Do_you_have_a_viable_workaround__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Is_this_customer_facing_issue__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Business_Functionality_Details__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <description>Changes the Owner to IT Helpdesk once all of the required fields have been update.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Resume Request</fullName>
        <actions>
            <name>Clear_On_Hold_Reasons</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Clear_On_Hold_Since_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_On_Hold_Duration</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Total_Business_Hours_On_Hold</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Status__c</field>
            <operation>notEqual</operation>
            <value>On Hold (Pending User Input)</value>
        </criteriaItems>
        <description>Add the &quot;On Hold Duration&quot; to the cumulative days on hold total and then clear out the On Hold Since date field and the On Hold time tracking field.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Salesforce Request Initial Email Notification</fullName>
        <actions>
            <name>Salesforce_Related_IT_Request</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.I_Need_Assistance_With__c</field>
            <operation>equals</operation>
            <value>Salesforce</value>
        </criteriaItems>
        <description>This workflow rule sends a Salesforce specific e-mail when Salesforce is selected in the &quot;I Need Assistance with&quot; field</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Send Survey</fullName>
        <active>true</active>
        <booleanFilter>1 AND (2 OR 3)</booleanFilter>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Status__c</field>
            <operation>equals</operation>
            <value>Closed</value>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Survey_Completed__c</field>
            <operation>notEqual</operation>
            <value>True</value>
        </criteriaItems>
        <criteriaItems>
            <field>AH_Internal_IT_Request__c.Survey_Completed__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Sends the IT Survey</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Send_IT_Survey</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>AH_Internal_IT_Request__c.Date_Closed__c</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
</Workflow>
