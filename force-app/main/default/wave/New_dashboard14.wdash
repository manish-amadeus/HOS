{"dataSourceLinksInfo":{"enableAutomaticLinking":false,"excludeRelationships":[],"links":[]},"filters":[{"dataset":{"name":"UtilizationDetail"},"dependent":true,"fields":["Region.Name"],"locked":false,"operator":"in"},{"dataset":{"name":"UtilizationDetail"},"dependent":true,"fields":["Group.Name"],"locked":false,"operator":"in"}],"gridLayouts":[{"name":"Default","numColumns":50,"pages":[{"label":"Untitled","name":"c79d5288-a4eb-44a6-ad7f-16e92f151ebf","navigationHidden":false,"widgets":[{"colspan":9,"column":7,"name":"filterpanel_1","row":31,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":4,"borderWidth":1}},{"colspan":36,"column":7,"name":"table_4","row":14,"rowspan":6,"widgetStyle":{"borderEdges":[]}},{"colspan":36,"column":7,"name":"table_15","row":40,"rowspan":72,"widgetStyle":{"borderEdges":[]}},{"colspan":9,"column":25,"name":"listselector_2","row":31,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":4,"borderWidth":1}},{"colspan":9,"column":16,"name":"filterpanel_2","row":31,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":4,"borderWidth":1}},{"colspan":36,"column":7,"name":"table_1","row":117,"rowspan":43,"widgetStyle":{"borderEdges":[]}},{"colspan":9,"column":34,"name":"listselector_1","row":31,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":4,"borderWidth":1}},{"colspan":12,"column":7,"name":"table_3","row":21,"rowspan":6,"widgetStyle":{"borderEdges":[]}},{"colspan":9,"column":20,"name":"text_2","row":10,"rowspan":3,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":38,"column":6,"name":"container_1","row":10,"rowspan":18,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":["bottom"],"borderRadius":0,"borderWidth":1}},{"colspan":38,"column":6,"name":"container_4","row":28,"rowspan":8,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":["bottom"],"borderRadius":0,"borderWidth":2}},{"colspan":8,"column":7,"name":"text_3","row":28,"rowspan":3,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":38,"column":6,"name":"container_5","row":36,"rowspan":77,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":["bottom"],"borderRadius":0,"borderWidth":2}},{"colspan":9,"column":20,"name":"text_4","row":36,"rowspan":3,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":38,"column":6,"name":"container_6","row":113,"rowspan":48,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":9,"column":21,"name":"text_6","row":113,"rowspan":3,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":38,"column":6,"name":"container_7","row":0,"rowspan":10,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":["bottom"],"borderRadius":0,"borderWidth":2}},{"colspan":14,"column":18,"name":"text_7","row":2,"rowspan":5,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":4,"column":6,"name":"image_1","row":0,"rowspan":3,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":2,"column":42,"name":"image_2","row":0,"rowspan":5,"widgetStyle":{"backgroundColor":"rgb(9, 26, 62)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}}]}],"rowHeight":"fine","selectors":[],"style":{"alignmentX":"left","alignmentY":"top","backgroundColor":"#F2F6FA","cellSpacingX":8,"cellSpacingY":0,"fit":"original","gutterColor":"#C5D3E0"},"version":1.0}],"layouts":[],"steps":{"all_all_1":{"broadcastFacet":true,"groups":[],"label":"all_all_1","numbers":[],"query":"q = load \"UtilizationDetail\";\nresult = group q by all;\nresult = foreach result generate \ndate_to_string(now(), \"yyyy-MM-dd\") as 'CloseWon'\n, 21 as 'PMLeadTime' -- Change Target # if required\n, 90 as 'TRN Lead Time' -- Change Target # if required\n, toString(toDate(date_to_epoch(now()) + (21 * 86400)),\"yyyy-MM-dd\") as 'PM Assigned' -- Change Target # if required\n, toString(toDate(date_to_epoch(now()) + (69 * 86400)),\"yyyy-MM-dd\") as 'CON'-- Change Target # if required\n, toString(toDate(date_to_epoch(now()) + (83 * 86400)),\"yyyy-MM-dd\") as 'DS'-- Change Target # if required\n, toString(toDate(date_to_epoch(now()) + (90 * 86400)),\"yyyy-MM-dd\") as 'TRN'-- Change Target # if required\n, round(((date_to_epoch(now()) + (69 * 86400)) - date_to_epoch(now()))/604800) as 'Web-MaxTgtWk' -- Change Target # if required -- 7 days in a week x 86400 seconds in a day = 604800\n, round(((date_to_epoch(now()) + (90 * 86400)) - date_to_epoch(now()))/604800) as 'ILT-MaxTgtWk'-- Change Target # if required -- 7 days in a week x 86400 seconds in a day = 604800\n, round(((date_to_epoch(now()) - date_to_epoch(fiscal_year_first_day(toDate(date_to_epoch(now())))))/604800) +(((date_to_epoch(now()) + (69 * 86400)) - date_to_epoch(now()))/604800))+1  as 'Web Wk' -- Change Target # if required\n, round(((date_to_epoch(now()) - date_to_epoch(fiscal_year_first_day(toDate(date_to_epoch(now())))))/604800) +(((date_to_epoch(now()) + (90 * 86400)) - date_to_epoch(now()))/604800))+1  as 'ILT Wk' -- Change Target # if required\n, .20 as 'Min Cap by Practice'\n;\nresult = limit result 2000; \n\n--Notes--\n--Max Lead Time Target by Practice by PM Assignment (on Hold to In Progress) --Consultng 7 wks, Data Services 9 wks, Training 10 wks\n--Max Lead Time Target by Practice from Close Won-- ILT && Web_ Consulting 10 wks, Data Services 12 wks, Training 13 wks\n\n-- Capacity Requirements by resource by week -- ILT && Web - Consulting 8hrs, ILT Training 32hrs, Web Trainng 40hrs\n-- Capacity Min by Practice - 20% ","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"evenRowColor":"#f2f6fa","header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","showActionMenu":true,"showRowIndexColumn":false,"totals":true,"verticalPadding":8},"type":"table"}},"Resource_Availabilit_1":{"broadcastFacet":true,"groups":[],"label":"Resource Availability","numbers":[],"query":"q = load \"UtilizationDetail\";\nq = filter q by date('psa_report__Month__c_Year', 'psa_report__Month__c_Month', 'psa_report__Month__c_Day') in [\"current day\"..\"280 days ahead\"];\nq = filter q by 'pse__Time_Period_Type__c' == \"Week\";\nresult = group q by ('pse__Resource__c.psa_report__Resource_Name__c','pse__Resource__c','Practice.Name','psa_report__Month__c_Year', 'psa_report__Month__c_Week','psa_report__Month__c_Month');\nresult = foreach result generate \nq.'psa_report__Month__c_Year' + \"~~~\" + q.'psa_report__Month__c_Week' as 'psa_report__Month__c_Year~~~psa_report__Month__c_Week'\n,q.'psa_report__Month__c_Month' as 'psa_report__Month__c_Month'\n, q.'pse__Resource__c.psa_report__Resource_Name__c' as 'Resource_Name'\n,q.'Practice.Name' as 'Practice.Name'\n--, q.'pse__Resource__c' as '# of Resources'\n,(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))- (sum('pse__Scheduled_Excluded_Hours__c')+ sum('pse__Historical_Excluded_Hours__c')) as 'Gross Available Hrs'\n,(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c')) as 'Remaining Capacity Hrs'\n,case \nwhen 'Practice.Name' == \"Training\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 32 then 1 \nwhen 'Practice.Name' == \"Consulting\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 10 then 1 \nwhen 'Practice.Name' == \"Data Services\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 20 then 1 \nelse 0 end as 'Available'\n\n;\nresult = filter result by 'Available' == 1;\nresult = order result by 'psa_report__Month__c_Year~~~psa_report__Month__c_Week';","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":["psa_report__Month__c_Year~~~psa_report__Month__c_Week","psa_report__Month__c_Month","Resource_Name","Practice.Name","Gross Available Hrs","Remaining Capacity Hrs"],"customBulkActions":[],"evenRowColor":"#f2f6fa","header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","showActionMenu":true,"showRowIndexColumn":false,"totals":true,"verticalPadding":8},"type":"table"}},"Res_Avl_Hrs___Target_1":{"broadcastFacet":true,"groups":[],"label":"Res Avl Hrs - Target ","numbers":[],"query":"q = load \"UtilizationDetail\";\nq = group q by all;\nq = foreach q generate\n \"\" as 'Res Avl Hrs Per Wk >='\n, 40*.25 as 'Consulting'\n, 40*.50 as 'Data Services'\n, 40*.80 as 'Training'\n\n;\n","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e0e5ee","borderWidth":1,"cell":{"backgroundColor":"#ffffff","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"header":{"backgroundColor":"#f4f6f9","fontColor":"#16325c","fontSize":12},"innerMajorBorderColor":"#a8b7c7","innerMinorBorderColor":"#e0e5ee","interactions":[],"maxColumnWidth":300,"minColumnWidth":40,"mode":"variable","numberOfLines":1,"pivoted":true,"showActionMenu":true,"showRowIndexColumn":false,"verticalPadding":8},"type":"table"}},"Filter_by_week_1":{"broadcastFacet":true,"datasets":[{"name":"UtilizationDetail"}],"isGlobal":false,"label":"Filter by week","query":{"query":"{\"measures\":[[\"count\",\"*\"]],\"groups\":[[\"psa_report__Month__c_Year\",\"psa_report__Month__c_Week\"]],\"filters\":[[\"Time Period\",[[[\"day\",0],[\"day\",180]]],\">=<=\"]]}","version":-1.0},"receiveFacetSource":{"mode":"exclude","steps":["all_all_1"]},"selectMode":"multi","type":"aggregateflex","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":["psa_report__Month__c_Year~~~psa_report__Month__c_Week"],"plots":["count"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"Practice_Name_psa_re_1":{"broadcastFacet":true,"groups":[],"label":"Practice_Name_psa_re_1","numbers":[],"query":"q = load \"UtilizationDetail\";\nq = filter q by date('psa_report__Month__c_Year', 'psa_report__Month__c_Month', 'psa_report__Month__c_Day') in [\"current day\"..\"280 days ahead\"];\nq = filter q by 'pse__Time_Period_Type__c' == \"Week\";\nresult = group q by ('pse__Resource__c.psa_report__Resource_Name__c','pse__Resource__c','Practice.Name','psa_report__Month__c_Year', 'psa_report__Month__c_Week','psa_report__Month__c_Month');\nresult = foreach result generate \nq.'psa_report__Month__c_Year' + \"~~~\" + q.'psa_report__Month__c_Week' as 'psa_report__Month__c_Year~~~psa_report__Month__c_Week'\n,q.'psa_report__Month__c_Month' as 'psa_report__Month__c_Month'\n, q.'pse__Resource__c.psa_report__Resource_Name__c' as 'pse__Resource__c.psa_report__Resource_Name__c'\n,q.'Practice.Name' as 'Practice.Name'\n, q.'pse__Resource__c' as '# of Resources'\n,(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))- (sum('pse__Scheduled_Excluded_Hours__c')+ sum('pse__Historical_Excluded_Hours__c')) as 'Gross Available Hrs'\n,(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c')) as 'Remaining Capacity Hrs'\n,case \nwhen 'Practice.Name' == \"Training\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c')))  >= 32 then 1 \nwhen 'Practice.Name' == \"Consulting\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 10 then 1 \nwhen 'Practice.Name' == \"Data Services\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 20 then 1 \nelse 0 end as 'Available'\n\n,case when (sum(case \nwhen 'Practice.Name' == \"Training\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 32 then 1 \nwhen 'Practice.Name' == \"Consulting\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 10 then 1 \nwhen 'Practice.Name' == \"Data Services\" && ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c'))) >= 20 then 1 \nelse 0 end) over([-1..0] partition by all order by ( 'pse__Resource__c.psa_report__Resource_Name__c','psa_report__Month__c_Year', 'psa_report__Month__c_Week'))) == 2 then 1 else 0 end as 'Available2'\n\n;\n\n\nresult2 = group result by ('psa_report__Month__c_Year~~~psa_report__Month__c_Week','psa_report__Month__c_Month','Practice.Name');\nresult2 = foreach result2 generate \n'psa_report__Month__c_Year~~~psa_report__Month__c_Week'\n,'psa_report__Month__c_Month'\n,'Practice.Name'\n,unique('# of Resources') as '# of Res'\n,sum('Available') as '# Avl Res 1wk'\n,sum('Available2') as  '# Avl Res Ov 2wk'\n--,sum('Remaining Capacity Hrs') as 'Remaining Capacity Hrs'\n, (sum('Available')/unique('# of Resources')) as '% Avl 1wk'\n, (sum('Available2')/unique('# of Resources')) as '% Avl Ov 2wk'\n;\nresult2 = filter result2 by 'Practice.Name' in [\"Consulting\",\"Data Services\",\"Training\"]; ","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"multi","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"evenRowColor":"#f2f6fa","header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","pivoted":true,"showActionMenu":true,"showRowIndexColumn":false,"verticalPadding":8},"type":"table"}},"Practice_Name_Filter_1":{"broadcastFacet":true,"datasets":[{"name":"UtilizationDetail"}],"isGlobal":false,"label":"Practice Name Filter","query":{"query":"{\"measures\":[[\"count\",\"*\"]],\"groups\":[\"Practice.Name\"],\"filters\":[[\"Practice.Name\",[\"Consulting\",\"Data Services\",\"Training\"],\"in\"]]}","version":-1.0},"receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"multi","type":"aggregateflex","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":["Practice.Name"],"plots":["count"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"lens_1":{"broadcastFacet":true,"groups":[],"label":"lens_1","numbers":[],"query":"q = load \"UtilizationDetail\";\r\nq = filter q by date('psa_report__Month__c_Year', 'psa_report__Month__c_Month', 'psa_report__Month__c_Day') in [\"current day\"..\"180 days ahead\"];\r\nq = filter q by 'pse__Time_Period_Type__c' == \"Week\";\r\n\r\n--q = filter q by 'Practice.Name' == \"Training\";\r\n\r\nresult = group q by ('psa_report__Month__c_Year', 'psa_report__Month__c_Week', 'psa_report__Month__c_Month'\r\n,'pse__Resource__c.psa_report__Resource_Name__c'\r\n);\r\nresult = foreach result generate \r\nq.'pse__Resource__c.psa_report__Resource_Name__c' as 'pse__Resource__c.psa_report__Resource_Name__c'\r\n,q.'psa_report__Month__c_Year' + \"~~~\" + q.'psa_report__Month__c_Week' as 'psa_report__Month__c_Week~~~psa_report__Month__c_Year'\r\n,q.'psa_report__Month__c_Month' as 'psa_report__Month__c_Month'\r\n,(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))- (sum('pse__Scheduled_Excluded_Hours__c')+ sum('pse__Historical_Excluded_Hours__c')) as 'Gross Available Hrs'\r\n,(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c'))-(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+ sum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') + sum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') + sum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c')) as 'Remaining Capacity Hrs'\r\n,((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c')) -\r\n(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+\r\nsum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') +\r\nsum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') +\r\nsum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c')))/\r\n(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c')- sum('pse__Scheduled_Excluded_Hours__c') - sum('pse__Historical_Excluded_Hours__c')) as '% Remaining Capacity'\r\n,case when ((sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c')) -\r\n(sum('pse__Scheduled_Billable_Hours__c')+ sum('pse__Historical_Billable_Hours__c')+\r\nsum('pse__Scheduled_Credited_Hours__c') + sum('pse__Historical_Credited_Hours__c') +\r\nsum('pse__Scheduled_Excluded_Hours__c') + sum('pse__Historical_Excluded_Hours__c') +\r\nsum('pse__Scheduled_Non_Billable_Hours__c') + sum('pse__Historical_Non_Billable_Hours__c')))/\r\n(sum('pse__Scheduled_Calendar_Hours__c') + sum('pse__Historical_Calendar_Hours__c')- sum('pse__Scheduled_Excluded_Hours__c') - sum('pse__Historical_Excluded_Hours__c'))  >= .8 then 1 else 0 end as 'Lead_Time'\r\n;\r\n\r\nresult2 = group result by ('psa_report__Month__c_Week~~~psa_report__Month__c_Year','psa_report__Month__c_Month',\r\n'pse__Resource__c.psa_report__Resource_Name__c'\r\n);\r\n\r\nresult2 = foreach result2 generate \r\n'pse__Resource__c.psa_report__Resource_Name__c' \r\n,'psa_report__Month__c_Week~~~psa_report__Month__c_Year'\r\n,'psa_report__Month__c_Month'\r\n,sum('Gross Available Hrs') as 'Gross Available Hrs'\r\n,sum('Remaining Capacity Hrs') as 'Remaining Capacity Hrs'\r\n,sum('Lead_Time') as 'Lead_Time2'\r\n,case when (sum(sum('Lead_Time')) over([-1..0] partition by all order by ( 'pse__Resource__c.psa_report__Resource_Name__c','psa_report__Month__c_Week~~~psa_report__Month__c_Year'))) == 2 then 1 else 0 end as 'Lead_Time'\r\n;\r\n\r\n\r\n","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","start":"[]","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e0e5ee","borderWidth":1,"cell":{"backgroundColor":"#ffffff","fontColor":"#16325c","fontSize":12},"collapsible":false,"columnProperties":{},"columns":[],"customBulkActions":[],"header":{"backgroundColor":"#f4f6f9","fontColor":"#16325c","fontSize":12},"innerMajorBorderColor":"#a8b7c7","innerMinorBorderColor":"#e0e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"pivoted":false,"showActionMenu":true,"showRowIndexColumn":false,"totals":true,"verticalPadding":8},"type":"table"}}},"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1},"widgets":{"listselector_2":{"parameters":{"compact":false,"displayMode":"filter","exploreLink":false,"filterStyle":{"titleColor":"#54698D","valueColor":"#16325C"},"instant":true,"measureField":"none","showActionMenu":false,"step":"Filter_by_week_1","title":"Year-Week"},"type":"listselector"},"filterpanel_2":{"parameters":{"filterItemOptions":{"propertyColor":"#54698D","valueColor":"#16325C"},"filters":[{"dataset":{"name":"UtilizationDetail"},"field":"Group.Name"}],"showAllFilters":false},"type":"filterpanel"},"filterpanel_1":{"parameters":{"filterItemOptions":{"propertyColor":"#54698D","valueColor":"#16325C"},"filters":[{"dataset":{"name":"UtilizationDetail"},"field":"Region.Name"}],"showAllFilters":false},"type":"filterpanel"},"table_1":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":["psa_report__Month__c_Year~~~psa_report__Month__c_Week","psa_report__Month__c_Month","Resource_Name","Practice.Name","Gross Available Hrs","Remaining Capacity Hrs"],"customBulkActions":[],"evenRowColor":"#f2f6fa","exploreLink":true,"header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","pivoted":false,"showActionMenu":true,"showRowIndexColumn":false,"step":"Resource_Availabilit_1","totals":true,"verticalPadding":8},"type":"table"},"table_3":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"evenRowColor":"#f2f6fa","exploreLink":true,"header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","pivoted":true,"showActionMenu":true,"showRowIndexColumn":false,"step":"Res_Avl_Hrs___Target_1","verticalPadding":8},"type":"table"},"table_4":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"evenRowColor":"#f2f6fa","exploreLink":false,"header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","showActionMenu":true,"showRowIndexColumn":false,"step":"all_all_1","totals":true,"verticalPadding":8},"type":"table"},"container_1":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original"},"type":"container"},"table_15":{"parameters":{"borderColor":"#e1e5ee","borderWidth":1,"cell":{"backgroundColor":"#f2f6fa","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"evenRowColor":"#f2f6fa","exploreLink":true,"header":{"backgroundColor":"#e4ecf2","fontColor":"#5c7a99","fontSize":12},"innerMajorBorderColor":"#a9b7c7","innerMinorBorderColor":"#e1e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"oddRowColor":"#ffffff","pivoted":true,"showActionMenu":true,"showRowIndexColumn":false,"step":"Practice_Name_psa_re_1","verticalPadding":8},"type":"table"},"container_4":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original"},"type":"container"},"container_5":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original"},"type":"container"},"text_3":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"16px","color":"#ffffff","underline":true,"italic":true},"insert":"Filters:"},{"attributes":{"align":"left"},"insert":"\n"}]},"interactions":[],"showActionMenu":true},"type":"text"},"container_6":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original"},"type":"container"},"image_1":{"parameters":{"alignmentX":"center","alignmentY":"top","fit":"fitwidth","image":{"name":"amadeus_whitepng15","namespace":""}},"type":"image"},"text_2":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"16px","color":"#ffffff","underline":true,"bold":true},"insert":"LEAD TIME ASSUMPTIONS"},{"attributes":{"align":"center"},"insert":"\n"}]},"interactions":[],"showActionMenu":false},"type":"text"},"container_7":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original"},"type":"container"},"listselector_1":{"parameters":{"compact":false,"displayMode":"filter","exploreLink":false,"filterStyle":{"titleColor":"#54698D","valueColor":"#16325C"},"instant":true,"measureField":"none","showActionMenu":false,"step":"Practice_Name_Filter_1","title":"Practice.Name"},"type":"listselector"},"text_4":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"16px","color":"#ffffff","underline":true,"bold":true},"insert":"Resource Availability"},{"attributes":{"align":"center"},"insert":"\n"}]},"interactions":[],"showActionMenu":false},"type":"text"},"image_2":{"parameters":{"alignmentX":"right","alignmentY":"top","fit":"fitheight","image":{"name":"logowhiteJPG13","namespace":""}},"type":"image"},"text_7":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"32px","color":"#ffffff","underline":true,"bold":true,"italic":true},"insert":"Lead Time/Resource Availability"},{"attributes":{"align":"center"},"insert":"\n"}]},"interactions":[],"showActionMenu":true},"type":"text"},"text_6":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"16px","color":"#ffffff","underline":true,"bold":true},"insert":"Resource Capacity Hrs Detail"},{"attributes":{"align":"center"},"insert":"\n"}]},"interactions":[],"showActionMenu":false},"type":"text"}}}