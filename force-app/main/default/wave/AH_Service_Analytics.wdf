["{\"nodes\":{\"Join_LiveChatTranscriptEventLCT\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"LiveChatTranscriptId\"],\"relationship\":\"LCT\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Status\",\"ChatDuration\",\"EndedBy\",\"StartTime\",\"EndTime\",\"RequestTime\",\"Case.Support_Tier_Designation__c\",\"Case.Support_Tier_Designation_Region__c\",\"Case.SupportRegion__c\",\"Case.Age_Business_Days__c\",\"Case.AH_Flag_BH__c\",\"Case.AH_Initial_Response_Business_Hours__c\",\"Case.AH_Initial_response__c\",\"Case.Approval_Status__c\",\"Case.CaseType1__c\",\"Case.Case_Reason__c\",\"Case.CEM_Rejected__c\",\"Case.Change_Request__c\",\"Case.Credit_Status__c\",\"Case.CR_Public_Status__c\",\"Case.CR_Public_Status_version2__c\",\"Case.DI_Product_Group__c\",\"Case.Has_No_DI__c\",\"Case.IsHostedDI__c\",\"Case.NI_Org_Details__c\",\"Case.No_Survey__c\",\"Case.ParentId\",\"Case.SEV_1_RCA__c\",\"Case.SLA_Due__c\",\"Case.SLA_Term__c\",\"Case.Steps_to_Reproduce__c\",\"Case.Subject\",\"Case.Support_Tier__c\",\"Case.Version__c\",\"Case.AssetId\",\"Case.Account.Franchisor_Property_Code__c\",\"Case.Account.Franchisor__c\",\"Case.Account.ParentId\",\"Case.Case_Product_Line__c\",\"Case.Account_Country_Code__c\",\"Case.Case_Language__c\",\"Case.Module__c\",\"Case.Component__c\",\"Case.DI_to_be_tagged__c\",\"Case.Pushback_Stopper__c\",\"Case.Pushback__c\",\"Case.Number_of_Requests__c\",\"Case.L1T1_Time__c\",\"Case.L1T2_Time__c\",\"Case.L1T3_Time__c\",\"Case.L1_Time__c\",\"Case.Account.NI_Platinum_Support__c\",\"Case.Platinum_Premier_Enhanced_Support__c\",\"Case.Premier_Lite__c\",\"Case.Watchlist__c\",\"Case.Focused_Customer_Group__c\",\"Case.TC_BID__c\",\"Case.iHotelier_License_ID__c\",\"Case.User_Story_Create_Date__c\",\"Case.User_Story_Fid__c\",\"Case.User_Story_Owner__c\",\"Case.User_Story_Release__c\",\"Case.Master_Ticket__c\",\"Case.Target_Release_Quarter__c\",\"Case.Target_Completion_Date__c\",\"Case.Business_Reason__c\",\"Case.L2T1_Time__c\",\"Case.Level_1_Tier__c\",\"Case.Contractor_Time__c\",\"Case.Total_Work_Time__c\",\"Case.Days_to_Resolve__c\",\"Case.Resolved_DateTime__c\",\"Case.Not_Updated_by_ARPA__c\",\"Case.Processed_by_ARPA__c\",\"Case.Customer_Severity__c\"]},\"sources\":[\"compute_LiveChatTranscriptEvent_ChatBoundaries\",\"Join_LiveChatTranscript_Case_NoCSAT\"]},\"Augment_DeploymentInstance\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AssetId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"DeploymentInstance\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"AccountId\",\"Description\",\"DI_Name__c\",\"Edition__c\",\"Id\",\"IsHostedDI__c\",\"Line__c\",\"Name\",\"Product2Id\",\"ProductCode\",\"Product_Family__c\",\"Product_Group__c\",\"Product_Line__c\",\"Product_Product_Group__c\",\"Product_Product_Line__c\",\"Status\",\"Status_Change_Date__c\"]},\"sources\":[\"Augment_SupportTier\",\"sfdcDigest_DeploymentInstance\"]},\"Join_ServiceCaseServiceTask\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"relationship\":\"Task\",\"rightKey\":[\"WhatId\"],\"rightSelect\":[\"ActivityLastModifiedDate\"]},\"sources\":[\"Join_CaseAccount\",\"Compute_Extract_Task\"]},\"Join_CaseAccount\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"relationship\":\"Account\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"Name\",\"BillingState\",\"Industry\",\"Franchisor_Property_Code__c\",\"Franchisor__c\",\"ParentId\",\"NI_Platinum_Support__c\"]},\"sources\":[\"compute_CalculatedCaseDuration\",\"Extract_Account\"]},\"Extract_Contact\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Name\"},{\"name\":\"Id\"}],\"object\":\"Contact\"}},\"Extract_Opportunity\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"AccountId\"},{\"name\":\"OwnerId\"},{\"name\":\"Name\"},{\"defaultValue\":\"N/A\",\"name\":\"StageName\"},{\"defaultValue\":\"N/A\",\"name\":\"LeadSource\"},{\"name\":\"IsWon\"},{\"name\":\"IsClosed\"},{\"defaultValue\":\"N/A\",\"name\":\"ForecastCategory\"},{\"defaultValue\":\"N/A\",\"name\":\"ForecastCategoryName\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"CloseDate\"},{\"name\":\"Amount\"},{\"name\":\"CreatedById\"},{\"name\":\"RecordTypeId\"}],\"object\":\"Opportunity\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Join_CaseAccountContact\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ContactId\"],\"relationship\":\"Contact\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Id\"]},\"sources\":[\"computeJoin_ServiceCaseTaskEvent\",\"Extract_Contact\"]},\"Join_LiveChatTranscript_Case_NoCSAT\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"CaseId\"],\"relationship\":\"Case\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Origin\",\"Reason\",\"Type\",\"IsClosed\",\"ClosedDate\",\"CreatedDate\",\"Status\",\"Solution_Domain__c\",\"Priority\",\"CaseNumber\",\"Account.Name\",\"Account.Id\",\"DurationCalculatedField\",\"Role.Name\",\"CurrentDate\",\"RecordType.Name\",\"Support_Tier_Designation__c\",\"Support_Tier_Designation_Region__c\",\"SupportRegion__c\",\"Age_Business_Days__c\",\"AH_Flag_BH__c\",\"AH_Initial_Response_Business_Hours__c\",\"AH_Initial_response__c\",\"Approval_Status__c\",\"CaseType1__c\",\"Case_Reason__c\",\"CEM_Rejected__c\",\"Change_Request__c\",\"Credit_Status__c\",\"CR_Public_Status__c\",\"CR_Public_Status_version2__c\",\"DI_Product_Group__c\",\"Has_No_DI__c\",\"IsHostedDI__c\",\"NI_Org_Details__c\",\"No_Survey__c\",\"ParentId\",\"SEV_1_RCA__c\",\"SLA_Due__c\",\"SLA_Term__c\",\"Steps_to_Reproduce__c\",\"Subject\",\"Support_Tier__c\",\"Version__c\",\"AssetId\",\"Account.Franchisor_Property_Code__c\",\"Account.Franchisor__c\",\"Account.ParentId\",\"Case_Product_Line__c\",\"Account_Country_Code__c\",\"Case_Language__c\",\"Module__c\",\"Component__c\",\"DI_to_be_tagged__c\",\"Pushback_Stopper__c\",\"Pushback__c\",\"Number_of_Requests__c\",\"L1T1_Time__c\",\"L1T2_Time__c\",\"L1T3_Time__c\",\"L1_Time__c\",\"Account.NI_Platinum_Support__c\",\"Platinum_Premier_Enhanced_Support__c\",\"Premier_Lite__c\",\"Watchlist__c\",\"Focused_Customer_Group__c\",\"TC_BID__c\",\"iHotelier_License_ID__c\",\"User_Story_Create_Date__c\",\"User_Story_Fid__c\",\"User_Story_Owner__c\",\"User_Story_Release__c\",\"Master_Ticket__c\",\"Target_Release_Quarter__c\",\"Target_Completion_Date__c\",\"Business_Reason__c\",\"L2T1_Time__c\",\"Level_1_Tier__c\",\"Contractor_Time__c\",\"Total_Work_Time__c\",\"Days_to_Resolve__c\",\"Resolved_DateTime__c\",\"Not_Updated_by_ARPA__c\",\"Processed_by_ARPA__c\",\"Customer_Severity__c\"]},\"sources\":[\"Join_LiveChatTranscript_User\",\"Join_CaseAccountContactUserUserRoleRecordType\"]},\"augment_NIOrgDetails\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"NIOrgAccount.NIOrgDetailsID__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"NIOrgDetails\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Org_Name__c\",\"Template__c\",\"Primary_Account__c\",\"Name\"]},\"sources\":[\"augment_NIOrgAccount\",\"sfdcDigest_NIOrgDetails\"]},\"Compute_Extract_Task\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"description\":\"ActivityLastModifiedDate\",\"expression\":{\"offset\":\"first()\",\"sourceField\":\"LastModifiedDate\",\"default\":\"current()\"},\"label\":\"ActivityLastModifiedDate\",\"name\":\"ActivityLastModifiedDate\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"LastModifiedDate\"}],\"partitionBy\":[\"WhatId\"]},\"sources\":[\"Extract_Task\"]},\"Augment_SupportManager\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Manager__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"SupportManager\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Augment_SupportTierToUser\",\"sfdcDigest_SupportManager\"]},\"Augment_Product\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"DeploymentInstance.Product2Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Product\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Classification__c\",\"Customer_Survey__c\",\"Description\",\"Edition__c\",\"Family\",\"Id\",\"Line_Classification_Global__c\",\"Line_Subclassification_Global__c\",\"Product_Group__c\",\"Solution_Domain_Global__c\",\"Support_Classification__c\"]},\"sources\":[\"Augment_DeploymentInstance\",\"sfdcDigest_Product\"]},\"Handle_Only_Activities\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Is Activity\",\"name\":\"IsActivity\",\"saqlExpression\":\"case when 'Case.Id' is null then \\\"No\\\" else \\\"Yes\\\" end\",\"type\":\"Text\"},{\"label\":\"Is Call\",\"name\":\"IsCall\",\"saqlExpression\":\"case when CallDurationInSeconds > 0 then \\\"Yes\\\" else \\\"No\\\" end\",\"type\":\"Text\"},{\"label\":\"Activity Is Closed\",\"name\":\"ActivityIsClosed\",\"saqlExpression\":\"case when ('Type' == \\\"Task\\\" && 'IsClosed' == \\\"true\\\") ||  ('Case.CurrentDate_sec_epoch' > 'EndDateTime_sec_epoch') then \\\"Completed\\\" when ('Type' == \\\"Task\\\" && 'IsClosed' == \\\"false\\\") then \\\"Open\\\" else \\\"Open\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Join_ActivityOwner_Case\"]},\"Extract_User\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"CallCenterId\"},{\"name\":\"Name\"},{\"name\":\"UserRoleId\"},{\"name\":\"Id\"}],\"object\":\"User\"}},\"Join_CaseAccountContactUserUserRoleRecordType\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"RecordTypeId\"],\"relationship\":\"RecordType\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Join_CaseAccountContactUserUserRole\",\"Extract_RecordTypes\"]},\"Extract_Case\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"name\":\"ContactId\"},{\"name\":\"OwnerId\"},{\"name\":\"Id\"},{\"defaultValue\":\"N/A\",\"name\":\"Origin\"},{\"defaultValue\":\"N/A\",\"name\":\"Reason\"},{\"defaultValue\":\"N/A\",\"name\":\"Type\"},{\"name\":\"IsClosed\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"ClosedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"LastModifiedDate\"},{\"name\":\"IsEscalated\"},{\"defaultValue\":\"N/A\",\"name\":\"Status\"},{\"defaultValue\":\"N/A\",\"name\":\"Solution_Domain__c\"},{\"defaultValue\":\"N/A\",\"name\":\"Priority\"},{\"name\":\"CaseNumber\"},{\"defaultValue\":\"N/A\",\"name\":\"RecordTypeId\"},{\"defaultValue\":\"N/A\",\"name\":\"Support_Tier_Designation__c\"},{\"name\":\"Support_Tier_Designation_Region__c\"},{\"name\":\"SupportRegion__c\"},{\"name\":\"Age_Business_Days__c\"},{\"name\":\"AH_Flag_BH__c\"},{\"name\":\"AH_Initial_Response_Business_Hours__c\"},{\"name\":\"AH_Initial_response__c\"},{\"name\":\"Approval_Status__c\"},{\"name\":\"CaseType1__c\"},{\"defaultValue\":\"N/A\",\"name\":\"Case_Reason__c\"},{\"name\":\"CEM_Rejected__c\"},{\"name\":\"Change_Request__c\"},{\"name\":\"Credit_Status__c\"},{\"name\":\"CR_Public_Status__c\"},{\"name\":\"CR_Public_Status_version2__c\"},{\"name\":\"DI_Product_Group__c\"},{\"name\":\"Has_No_DI__c\"},{\"name\":\"IsHostedDI__c\"},{\"name\":\"NI_Org_Details__c\"},{\"name\":\"No_Survey__c\"},{\"name\":\"ParentId\"},{\"name\":\"SEV_1_RCA__c\"},{\"name\":\"SLA_Due__c\"},{\"name\":\"SLA_Term__c\"},{\"name\":\"Steps_to_Reproduce__c\"},{\"name\":\"Subject\"},{\"name\":\"Support_Tier__c\"},{\"name\":\"Version__c\"},{\"name\":\"AssetId\"},{\"name\":\"Case_Product_Line__c\"},{\"name\":\"Account_Country_Code__c\"},{\"name\":\"Case_Language__c\"},{\"name\":\"Module__c\"},{\"name\":\"Component__c\"},{\"name\":\"DI_to_be_tagged__c\"},{\"name\":\"Pushback_Stopper__c\"},{\"name\":\"Pushback__c\"},{\"name\":\"Number_of_Requests__c\"},{\"name\":\"L1T1_Time__c\"},{\"name\":\"L1T2_Time__c\"},{\"name\":\"L1T3_Time__c\"},{\"name\":\"L1_Time__c\"},{\"name\":\"Platinum_Premier_Enhanced_Support__c\"},{\"name\":\"Premier_Lite__c\"},{\"name\":\"Watchlist__c\"},{\"name\":\"Focused_Customer_Group__c\"},{\"name\":\"TC_BID__c\"},{\"name\":\"iHotelier_License_ID__c\"},{\"name\":\"User_Story_Create_Date__c\"},{\"name\":\"User_Story_Fid__c\"},{\"name\":\"User_Story_Owner__c\"},{\"name\":\"User_Story_Release__c\"},{\"name\":\"Master_Ticket__c\"},{\"name\":\"Target_Release_Quarter__c\"},{\"name\":\"Target_Completion_Date__c\"},{\"name\":\"Business_Reason__c\"},{\"name\":\"L2T1_Time__c\"},{\"name\":\"Level_1_Tier__c\"},{\"name\":\"Contractor_Time__c\"},{\"name\":\"Total_Work_Time__c\"},{\"name\":\"Days_to_Resolve__c\"},{\"name\":\"Resolved_DateTime__c\"},{\"name\":\"Not_Updated_by_ARPA__c\"},{\"name\":\"Processed_by_ARPA__c\"},{\"name\":\"Customer_Severity__c\"}],\"object\":\"Case\"}},\"Join_CaseAccountContactUser\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"relationship\":\"Owner\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"CallCenterId\",\"Name\",\"Id\",\"UserRoleId\",\"Type\"]},\"sources\":[\"Join_CaseAccountContact\",\"Append_Queue_User\"]},\"compute_LiveChatTranscriptEvent_AgentSessions\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"description\":\"AgentStartCount\",\"expression\":{\"default\":\"0\",\"saqlExpression\":\"case when 'LCT.Status' == \\\"Completed\\\" && (('Type' == \\\"Accept\\\") || ('Type' ==  \\\"Transfer\\\")  || ('Type' ==  \\\"OperatorJoinedConference\\\")) then coalesce(previous('AgentStartCount')+1,1) else coalesce(previous('AgentStartCount'),0) end \",\"type\":\"Numeric\",\"scale\":0},\"label\":\"AgentStartCount\",\"name\":\"AgentStartCount\"},{\"description\":\"AgentEndCount\",\"expression\":{\"default\":\"0\",\"saqlExpression\":\"case when 'IsEndChatEvent' == \\\"true\\\" then coalesce(previous('AgentEndCount')+1,1) else coalesce(previous('AgentEndCount'),0) end \",\"type\":\"Numeric\",\"scale\":0},\"label\":\"AgentEndCount\",\"name\":\"AgentEndCount\"},{\"description\":\"AgentTransferCount\",\"expression\":{\"default\":\"0\",\"saqlExpression\":\"case when 'IsNextChatEventTransfer' == \\\"true\\\" then coalesce(previous('AgentTransferCount')+1,1) else coalesce(previous('AgentTransferCount'),0) end \",\"type\":\"Numeric\",\"scale\":0},\"label\":\"AgentTransferCount\",\"name\":\"AgentTransferCount\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"Time\"}],\"partitionBy\":[\"AgentIdFill\"]},\"sources\":[\"compute_LiveChatTranscriptEvent_AgentIds\"]},\"Join_OpportunityRecordTypeAccount\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"relationship\":\"Account\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"Name\",\"Industry\",\"Franchisor_Property_Code__c\",\"Franchisor__c\",\"ParentId\",\"NI_Platinum_Support__c\"]},\"sources\":[\"Handle_Null_Opportunity_RecordType\",\"Extract_Account\"]},\"Extract_Queue\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"Group\"}},\"sfdcDigest_SupportManager\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"User\"}},\"sfdcDigest_SupportTier\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Unique_Support_Rep__c\"},{\"name\":\"Team__c\"},{\"name\":\"Support_Rep__c\"},{\"name\":\"Support_Rep_Role__c\"},{\"name\":\"Support_Departure_Date__c\"},{\"name\":\"Region__c\"},{\"name\":\"Office__c\"},{\"name\":\"Name\"},{\"name\":\"Manager__c\"},{\"name\":\"Inactive__c\"},{\"name\":\"Id\"},{\"name\":\"Do_Not_Report__c\"},{\"name\":\"Department__c\"},{\"name\":\"Business_Domain__c\"},{\"name\":\"Tier__c\"}],\"object\":\"Support_Tier_Designation__c\"}},\"Augment_SupportTierToUser\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Support_Rep__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"SupportRep\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"sfdcDigest_SupportTier\",\"sfdc_Digest_SupportRep\"]},\"augment_ManagementCompany\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Account.ParentId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"AccountManagementCompany\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Augment_Product\",\"sfdcDigest_AccountManagementCompany\"]},\"Handle_Null_RecordType\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Case Record Type\",\"name\":\"RecordTypeName\",\"saqlExpression\":\"case when RecordTypeId is null then \\\"N/A\\\" else 'RecordType.Name' end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Join_CaseAccountContactUserUserRoleRecordType\"]},\"sfdcDigest_Office\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"NI_Departments__c\"}},\"Join_ActivityOwner_Case\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"WhatId\"],\"relationship\":\"Case\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"Origin\",\"Reason\",\"Type\",\"IsClosed\",\"ClosedDate\",\"CreatedDate\",\"Status\",\"Solution_Domain__c\",\"Priority\",\"CaseNumber\",\"RecordType.Name\",\"Account.Name\",\"Account.Id\",\"DurationCalculatedField\",\"Role.Name\",\"CurrentDate\",\"Support_Tier_Designation__c\",\"Support_Tier_Designation_Region__c\",\"SupportRegion__c\",\"Age_Business_Days__c\",\"AH_Flag_BH__c\",\"AH_Initial_Response_Business_Hours__c\",\"AH_Initial_response__c\",\"Approval_Status__c\",\"CaseType1__c\",\"Case_Reason__c\",\"CEM_Rejected__c\",\"Change_Request__c\",\"Credit_Status__c\",\"CR_Public_Status__c\",\"CR_Public_Status_version2__c\",\"DI_Product_Group__c\",\"Has_No_DI__c\",\"IsHostedDI__c\",\"NI_Org_Details__c\",\"No_Survey__c\",\"ParentId\",\"SEV_1_RCA__c\",\"SLA_Due__c\",\"SLA_Term__c\",\"Steps_to_Reproduce__c\",\"Subject\",\"Support_Tier__c\",\"Version__c\",\"AssetId\",\"Account.Franchisor_Property_Code__c\",\"Account.Franchisor__c\",\"Account.ParentId\",\"Case_Product_Line__c\",\"Account_Country_Code__c\",\"Case_Language__c\",\"Module__c\",\"Component__c\",\"DI_to_be_tagged__c\",\"Pushback_Stopper__c\",\"Pushback__c\",\"Number_of_Requests__c\",\"L1T1_Time__c\",\"L1T2_Time__c\",\"L1T3_Time__c\",\"L1_Time__c\",\"Account.NI_Platinum_Support__c\",\"Platinum_Premier_Enhanced_Support__c\",\"Premier_Lite__c\",\"Watchlist__c\",\"Focused_Customer_Group__c\",\"TC_BID__c\",\"iHotelier_License_ID__c\",\"User_Story_Create_Date__c\",\"User_Story_Fid__c\",\"User_Story_Owner__c\",\"User_Story_Release__c\",\"Master_Ticket__c\",\"Target_Release_Quarter__c\",\"Target_Completion_Date__c\",\"Business_Reason__c\",\"L2T1_Time__c\",\"Level_1_Tier__c\",\"Contractor_Time__c\",\"Total_Work_Time__c\",\"Days_to_Resolve__c\",\"Resolved_DateTime__c\",\"Not_Updated_by_ARPA__c\",\"Processed_by_ARPA__c\",\"Customer_Severity__c\"]},\"sources\":[\"Join_ActivityOwner\",\"Handle_Null_RecordType\"]},\"computeJoin_ServiceCaseTaskEvent\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"0\",\"label\":\"Last LastModifiedDate\",\"name\":\"sum_last_activity\",\"precision\":18,\"saqlExpression\":\"case when ('Task.ActivityLastModifiedDate_sec_epoch' > 'Event.ActivityLastModifiedDate_sec_epoch' && 'Task.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then  ('CurrentDate_sec_epoch' - 'Task.ActivityLastModifiedDate_sec_epoch')/86400 when ('Event.ActivityLastModifiedDate_sec_epoch' > 'Task.ActivityLastModifiedDate_sec_epoch' && 'Event.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'Event.ActivityLastModifiedDate_sec_epoch')/86400  when ('LastModifiedDate_sec_epoch' >= 'Task.ActivityLastModifiedDate_sec_epoch' && 'LastModifiedDate_sec_epoch' >= 'Event.ActivityLastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400  else ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400 end\",\"scale\":2,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"Join_ServiceCaseTaskEvent\"]},\"compute_CurrentDateForCase\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\",\"label\":\"CurrentDate\",\"name\":\"CurrentDate\",\"saqlExpression\":\"now()\",\"type\":\"Date\"},{\"format\":\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\",\"label\":\"ValidToWithNow\",\"name\":\"ValidToWithNow\",\"saqlExpression\":\"case  when ('IsClosed' == \\\"true\\\") then toDate('ClosedDate', \\\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\\\") else now()  end\",\"type\":\"Date\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_Case\"]},\"Join_LiveChatTranscriptEvent_User\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AgentId\"],\"relationship\":\"User\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Extract_LiveChatTranscriptEvent\",\"Extract_User\"]},\"Handle_Null_Opportunity_RecordType\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Opportunity Record Type\",\"name\":\"RecordTypeName\",\"saqlExpression\":\"case when RecordTypeId is null then \\\"N/A\\\" else 'RecordType.Name' end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Join_OpportunityRecordType\"]},\"Add_Fields_To_User\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"User\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_User\"]},\"Join_OpportunityRecordTypeAccountCase\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"relationship\":\"Case\",\"rightKey\":[\"AccountId\"],\"rightSelect\":[\"Id\",\"CaseNumber\",\"IsEscalated\",\"Priority\",\"Support_Tier_Designation__c\",\"Support_Tier_Designation_Region__c\",\"SupportRegion__c\",\"Age_Business_Days__c\",\"AH_Flag_BH__c\",\"AH_Initial_Response_Business_Hours__c\",\"AH_Initial_response__c\",\"Approval_Status__c\",\"CaseType1__c\",\"Case_Reason__c\",\"CEM_Rejected__c\",\"Change_Request__c\",\"Credit_Status__c\",\"CR_Public_Status__c\",\"CR_Public_Status_version2__c\",\"DI_Product_Group__c\",\"Has_No_DI__c\",\"IsHostedDI__c\",\"NI_Org_Details__c\",\"No_Survey__c\",\"ParentId\",\"SEV_1_RCA__c\",\"SLA_Due__c\",\"SLA_Term__c\",\"Steps_to_Reproduce__c\",\"Subject\",\"Support_Tier__c\",\"Version__c\",\"AssetId\",\"Case_Product_Line__c\",\"Account_Country_Code__c\",\"Case_Language__c\",\"Module__c\",\"Component__c\",\"DI_to_be_tagged__c\",\"Pushback_Stopper__c\",\"Pushback__c\",\"Number_of_Requests__c\",\"L1T1_Time__c\",\"L1T2_Time__c\",\"L1T3_Time__c\",\"L1_Time__c\",\"Platinum_Premier_Enhanced_Support__c\",\"Premier_Lite__c\",\"Watchlist__c\",\"Focused_Customer_Group__c\",\"TC_BID__c\",\"iHotelier_License_ID__c\",\"User_Story_Create_Date__c\",\"User_Story_Fid__c\",\"User_Story_Owner__c\",\"User_Story_Release__c\",\"Master_Ticket__c\",\"Target_Release_Quarter__c\",\"Target_Completion_Date__c\",\"Business_Reason__c\",\"L2T1_Time__c\",\"Level_1_Tier__c\",\"Contractor_Time__c\",\"Total_Work_Time__c\",\"Days_to_Resolve__c\",\"Resolved_DateTime__c\",\"Not_Updated_by_ARPA__c\",\"Processed_by_ARPA__c\",\"Customer_Severity__c\"]},\"sources\":[\"Join_OpportunityRecordTypeAccount\",\"compute_CalculatedCaseDuration\"]},\"compute_LiveChatTranscriptEvent_AgentIds\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"description\":\"AgentIdFill\",\"expression\":{\"default\":\"0\",\"saqlExpression\":\"case when 'AgentId' is null then previous('AgentIdFill') else current('AgentId') end \",\"type\":\"Text\"},\"label\":\"AgentIdFill\",\"name\":\"AgentIdFill\"},{\"description\":\"IsEndChatEvent\",\"expression\":{\"default\":\"0\",\"saqlExpression\":\"case when 'LCT.Status' == \\\"Completed\\\" && ('TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch') && ('Time_sec_epoch' != coalesce(previous('Time_sec_epoch'),0)) && (('Type' == \\\"EndAgent\\\") || ('Type' ==  \\\"EndVisitor\\\")  || ('Type' ==  \\\"LeaveVisitor\\\")) then \\\"true\\\" else \\\"false\\\" end \",\"type\":\"Text\"},\"label\":\"IsEndChatEvent\",\"name\":\"IsEndChatEvent\"},{\"description\":\"next chat event is going to be Transfer\",\"expression\":{\"default\":\"0\",\"saqlExpression\":\"case when 'LCT.Status' == \\\"Completed\\\" && ((next('Type') == \\\"Transfer\\\") || (next('Type') ==  \\\"OperatorJoinedConference\\\")) then \\\"true\\\" else \\\"false\\\" end \",\"type\":\"Text\"},\"label\":\"IsNextChatEventTransfer\",\"name\":\"IsNextChatEventTransfer\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"Time\"}],\"partitionBy\":[\"LiveChatTranscriptId\"]},\"sources\":[\"Join_LiveChatTranscriptEventLCT\"]},\"augment_HRMTemplate\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"NIOrgDetails.Template__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Template\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"augment_NIOrgParentAccount\",\"sfdcDigest_Template\"]},\"sfdcDigest_NIOrgDetails\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Org_Name__c\"},{\"name\":\"Template__c\"},{\"name\":\"Primary_Account__c\"},{\"name\":\"Name\"}],\"object\":\"NI_Org_Details__c\"}},\"Join_LiveChatTranscript_User\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"relationship\":\"User\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"compute_LiveChatTranscript\",\"Extract_User\"]},\"Join_ActivityOwner\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"relationship\":\"Owner\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Id\",\"UserRoleId\"]},\"sources\":[\"Append_TaskEvent\",\"Extract_User\"]},\"Add_Fields_To_Queue\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"CallCenterId\",\"name\":\"CallCenterId\",\"saqlExpression\":\"\\\"000000000000000\\\"\",\"type\":\"Text\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"Queue\\\"\",\"type\":\"Text\"},{\"label\":\"UserRoleId\",\"name\":\"UserRoleId\",\"saqlExpression\":\"\\\"000000000000000\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_Queue\"]},\"sfdcDigest_Template\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"HRM_Template__c\"}},\"sfdcDigest_Product\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Classification__c\"},{\"name\":\"Customer_Survey__c\"},{\"name\":\"Description\"},{\"name\":\"Edition__c\"},{\"name\":\"Family\"},{\"name\":\"Id\"},{\"name\":\"Line_Classification_Global__c\"},{\"name\":\"Line_Subclassification_Global__c\"},{\"name\":\"Product_Group__c\"},{\"name\":\"Solution_Domain_Global__c\"},{\"name\":\"Support_Classification__c\"}],\"object\":\"Product2\"}},\"Register_Opportunity\":{\"action\":\"register\",\"parameters\":{\"label\":\"ServiceOpportunities\",\"name\":\"ServiceOpportunity\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"Join_OpportunityRecordTypeAccountCase\"]},\"Register_ActivityOwner_Case\":{\"action\":\"register\",\"parameters\":{\"label\":\"ServiceActivity\",\"name\":\"ServiceActivity\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"Filter_Activities\"]},\"sfdcDigest_AccountManagementCompany\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"Account\"}},\"Extract_Task\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"CallObject\"},{\"name\":\"CallDurationInSeconds\"},{\"defaultValue\":\"N/A\",\"name\":\"CallDisposition\"},{\"defaultValue\":\"N/A\",\"name\":\"CallType\"},{\"name\":\"OwnerId\"},{\"defaultValue\":\"N/A\",\"name\":\"Status\"},{\"defaultValue\":\"N/A\",\"name\":\"Priority\"},{\"name\":\"IsClosed\"},{\"defaultValue\":\"N/A\",\"name\":\"TaskSubtype\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"ActivityDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"LastModifiedDate\"},{\"defaultValue\":\"N/A\",\"name\":\"Subject\"},{\"defaultValue\":\"N/A\",\"name\":\"WhatId\"}],\"object\":\"Task\"}},\"Register_LiveChatTranscriptEvent\":{\"action\":\"register\",\"parameters\":{\"label\":\"ServiceChatTranscriptEvent\",\"name\":\"ServiceChatTranscriptEvent\"},\"sources\":[\"compute_LiveChatTranscriptEventLCT\"]},\"digest_NIOrgAccount\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountID__c\"},{\"name\":\"Id\"},{\"name\":\"NIOrgDetailsID__c\"}],\"object\":\"NI_Org_Details_to_Accounts__c\"}},\"Append_TaskEvent\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"Add_Fields_To_Task\",\"Add_Fields_To_Event\"]},\"sfdc_Digest_SupportRep\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"User\"}},\"Append_Queue_User\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"Add_Fields_To_Queue\",\"Add_Fields_To_User\"]},\"Register_LiveChatTranscript\":{\"action\":\"register\",\"parameters\":{\"label\":\"ServiceChatTranscript\",\"name\":\"ServiceChatTranscript\"},\"sources\":[\"Join_LiveChatTranscript_Case_NoCSAT\"]},\"compute_LiveChatTranscriptEvent_ChatBoundaries\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"description\":\"Temp Agent Chat End Time\",\"expression\":{\"offset\":\"next()\",\"sourceField\":\"Time\",\"default\":\"current()\"},\"label\":\"TempAgentChatEndTime\",\"name\":\"TempAgentChatEndTime\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"Time\"}],\"partitionBy\":[\"LiveChatTranscriptId\"]},\"sources\":[\"Join_LiveChatTranscriptEvent_User\"]},\"register_ACHistoricalQueueMetrics\":{\"action\":\"register\",\"parameters\":{\"label\":\"AC Historical Queue Metrics\",\"name\":\"ACHistoricalQueueMetrics\"},\"sources\":[\"sfdcDigest_ACHistoricalQueueMetrics\"]},\"sfdcDigest_ACHistoricalQueueMetrics\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"amazonconnect__AC_Object_Name__c\"},{\"name\":\"amazonconnect__AC_Record_Id__c\"},{\"name\":\"amazonconnect__After_contact_work_time_hms__c\"},{\"name\":\"amazonconnect__After_contact_work_time__c\"},{\"name\":\"amazonconnect__Agent_answer_rate__c\"},{\"name\":\"amazonconnect__Agent_api_connecting_time__c\"},{\"name\":\"amazonconnect__Agent_callback_connecting_time__c\"},{\"name\":\"amazonconnect__Agent_idle_time_hms__c\"},{\"name\":\"amazonconnect__Agent_idle_time__c\"},{\"name\":\"amazonconnect__Agent_incoming_connecting_time__c\"},{\"name\":\"amazonconnect__Agent_interaction_and_hold_time_hms__c\"},{\"name\":\"amazonconnect__Agent_interaction_and_hold_time__c\"},{\"name\":\"amazonconnect__Agent_interaction_time_hms__c\"},{\"name\":\"amazonconnect__Agent_interaction_time__c\"},{\"name\":\"amazonconnect__Agent_non_response__c\"},{\"name\":\"amazonconnect__Agent_on_contact_time_hms__c\"},{\"name\":\"amazonconnect__Agent_on_contact_time__c\"},{\"name\":\"amazonconnect__Agent_outbound_connecting_time__c\"},{\"name\":\"amazonconnect__API_contacts_handled__c\"},{\"name\":\"amazonconnect__API_contacts__c\"},{\"name\":\"amazonconnect__Average_after_contact_work_time_hms__c\"},{\"name\":\"amazonconnect__Average_after_contact_work_time__c\"},{\"name\":\"amazonconnect__Average_agent_api_connecting_time__c\"},{\"name\":\"amazonconnect__Average_agent_callback_connecting_time__c\"},{\"name\":\"amazonconnect__Average_agent_incoming_connecting_time__c\"},{\"name\":\"amazonconnect__Average_agent_interaction_time_hms__c\"},{\"name\":\"amazonconnect__Average_agent_interaction_time__c\"},{\"name\":\"amazonconnect__Average_agent_outbound_connecting_time__c\"},{\"name\":\"amazonconnect__Average_customer_hold_time_hms__c\"},{\"name\":\"amazonconnect__Average_customer_hold_time__c\"},{\"name\":\"amazonconnect__Average_handle_time_hms__c\"},{\"name\":\"amazonconnect__Average_handle_time__c\"},{\"name\":\"amazonconnect__Average_outbound_after_contact_work_time__c\"},{\"name\":\"amazonconnect__Average_outbound_agent_interaction_time__c\"},{\"name\":\"amazonconnect__Average_queue_abandon_time_hms__c\"},{\"name\":\"amazonconnect__Average_queue_abandon_time__c\"},{\"name\":\"amazonconnect__Average_queue_answer_time_hms__c\"},{\"name\":\"amazonconnect__Average_queue_answer_time__c\"},{\"name\":\"amazonconnect__Avg_agent_interaction_and_cust_hold_time__c\"},{\"name\":\"amazonconnect__Avg_agent_intn_and_cust_hld_time_hms__c\"},{\"name\":\"amazonconnect__Avg_outbound_after_contact_work_time_hms__c\"},{\"name\":\"amazonconnect__Avg_outbound_agent_interaction_time_hms__c\"},{\"name\":\"amazonconnect__Callback_contacts_handled__c\"},{\"name\":\"amazonconnect__Callback_contacts__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_120_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_15_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_180_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_20_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_240_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_25_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_300_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_30_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_45_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_600_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_60_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned_in_90_seconds__c\"},{\"name\":\"amazonconnect__Contacts_abandoned__c\"},{\"name\":\"amazonconnect__Contacts_agent_hung_up_first__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_120_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_15_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_180_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_20_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_In_240_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_25_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_300_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_30_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_45_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_600_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_60_seconds__c\"},{\"name\":\"amazonconnect__Contacts_answered_in_90_seconds__c\"},{\"name\":\"amazonconnect__Contacts_Consulted__c\"},{\"name\":\"amazonconnect__Contacts_handled_incoming__c\"},{\"name\":\"amazonconnect__Contacts_handled_outbound__c\"},{\"name\":\"amazonconnect__Contacts_handled__c\"},{\"name\":\"amazonconnect__Contacts_hold_agent_disconnect__c\"},{\"name\":\"amazonconnect__Contacts_hold_customer_disconnect__c\"},{\"name\":\"amazonconnect__Contacts_hold_disconnect__c\"},{\"name\":\"amazonconnect__Contacts_Incoming__c\"},{\"name\":\"amazonconnect__Contacts_missed__c\"},{\"name\":\"amazonconnect__Contacts_put_on_hold__c\"},{\"name\":\"amazonconnect__Contacts_queued__c\"},{\"name\":\"amazonconnect__Contacts_transferred_in_from_queue__c\"},{\"name\":\"amazonconnect__Contacts_transferred_in__c\"},{\"name\":\"amazonconnect__Contacts_transferred_out_external__c\"},{\"name\":\"amazonconnect__Contacts_transferred_out_from_queue__c\"},{\"name\":\"amazonconnect__Contacts_transferred_out__c\"},{\"name\":\"amazonconnect__Contact_flow_time_hms__c\"},{\"name\":\"amazonconnect__Contacts_transferred_out_internal__c\"},{\"name\":\"amazonconnect__Contact_flow_time__c\"},{\"name\":\"amazonconnect__Contact_handle_time_hms__c\"},{\"name\":\"amazonconnect__Contact_handle_time__c\"},{\"name\":\"amazonconnect__Created_Date__c\"},{\"name\":\"amazonconnect__Customer_hold_time_hms__c\"},{\"name\":\"amazonconnect__Customer_hold_time__c\"},{\"name\":\"amazonconnect__EndInterval__c\"},{\"name\":\"amazonconnect__Maximum_queued_time_hms__c\"},{\"name\":\"amazonconnect__Maximum_queued_time__c\"},{\"name\":\"amazonconnect__Nonproductive_time_hms__c\"},{\"name\":\"amazonconnect__Nonproductive_time__c\"},{\"name\":\"amazonconnect__Not_Available_time_hms__c\"},{\"name\":\"amazonconnect__Not_Available_time__c\"},{\"name\":\"amazonconnect__Occupancy__c\"},{\"name\":\"amazonconnect__Service_level_120_seconds__c\"},{\"name\":\"amazonconnect__Service_level_15_seconds__c\"},{\"name\":\"amazonconnect__Service_level_180_seconds__c\"},{\"name\":\"amazonconnect__Service_level_20_seconds__c\"},{\"name\":\"amazonconnect__Service_level_240_seconds__c\"},{\"name\":\"amazonconnect__Service_level_25_seconds__c\"},{\"name\":\"amazonconnect__Service_level_300_seconds__c\"},{\"name\":\"amazonconnect__Service_level_30_seconds__c\"},{\"name\":\"amazonconnect__Service_level_45_seconds__c\"},{\"name\":\"amazonconnect__Service_level_600_seconds__c\"},{\"name\":\"amazonconnect__Service_level_60_seconds__c\"},{\"name\":\"amazonconnect__Service_level_90_seconds__c\"},{\"name\":\"amazonconnect__StartInterval__c\"},{\"name\":\"CreatedById\"},{\"name\":\"CreatedDate\"},{\"name\":\"CurrencyIsoCode\"},{\"name\":\"Id\"},{\"name\":\"LastModifiedById\"},{\"name\":\"LastModifiedDate\"},{\"name\":\"Name\"},{\"name\":\"OwnerId\"},{\"name\":\"SystemModstamp\"}],\"object\":\"amazonconnect__AC_HistoricalQueueMetrics__c\"}},\"Extract_LiveChatTranscriptEvent\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Detail\"},{\"name\":\"Time\"},{\"name\":\"Type\"},{\"name\":\"LiveChatTranscriptId\"},{\"name\":\"AgentId\"}],\"filterConditions\":[{\"field\":\"Type\",\"list\":[\"Accept\",\"Transfer\",\"OperatorJoinedConference\",\"LeaveVisitor\",\"EndAgent\",\"EndVisitor\"],\"operator\":\"IN\"}],\"object\":\"LiveChatTranscriptEvent\",\"runtime\":{\"enablePKChunking\":false}}},\"Add_Fields_To_Event\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"CallObject\",\"name\":\"CallObject\",\"saqlExpression\":\"\\\"000000000000000\\\"\",\"type\":\"Text\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"CallDisposition\",\"name\":\"CallDisposition\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"CallType\",\"name\":\"CallType\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"Status\",\"name\":\"Status\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"Priority\",\"name\":\"Priority\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"TaskSubtype\",\"name\":\"TaskSubtype\",\"saqlExpression\":\"EventSubtype\",\"type\":\"Text\"},{\"label\":\"ActivityType\",\"name\":\"ActivityType\",\"saqlExpression\":\"EventSubtype\",\"type\":\"Text\"},{\"defaultValue\":\"0\",\"label\":\"CallDurationInSeconds\",\"name\":\"CallDurationInSeconds\",\"precision\":8,\"saqlExpression\":\"0\",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"IsClosed\",\"name\":\"IsClosed\",\"saqlExpression\":\"case when date(ActivityDate_Year,ActivityDate_Month,ActivityDate_Day) in [\\\"1 year ago\\\"..\\\"current day\\\"] then \\\"false\\\" else \\\"true\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_Event\"]},\"sfdcDigest_NIOrgParentAccount\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"Account\"}},\"compute_CalculatedCaseDuration\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"0\",\"label\":\"Case Duration\",\"name\":\"DurationCalculatedField\",\"precision\":18,\"saqlExpression\":\"case  when ('IsClosed' == \\\"true\\\") then ('ClosedDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400   else ('CurrentDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400  end\",\"scale\":2,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"compute_CurrentDateForCase\"]},\"Join_OpportunityRecordType\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"RecordTypeId\"],\"relationship\":\"RecordType\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Extract_Opportunity\",\"Extract_RecordTypes\"]},\"Extract_LiveChatTranscript\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Abandoned\"},{\"name\":\"AverageResponseTimeOperator\"},{\"name\":\"MaxResponseTimeOperator\"},{\"name\":\"OperatorMessageCount\"},{\"name\":\"Body\"},{\"name\":\"Browser\"},{\"name\":\"BrowserLanguage\"},{\"name\":\"CaseId\"},{\"name\":\"ChatDuration\"},{\"name\":\"ChatKey\"},{\"name\":\"CreatedDate\"},{\"name\":\"IsDeleted\"},{\"name\":\"EndTime\"},{\"name\":\"EndedBy\"},{\"name\":\"LastModifiedDate\"},{\"name\":\"LastReferencedDate\"},{\"name\":\"LastViewedDate\"},{\"name\":\"LiveChatButtonId\"},{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"Location\"},{\"name\":\"OwnerId\"},{\"name\":\"Platform\"},{\"name\":\"ReferrerUri\"},{\"name\":\"RequestTime\"},{\"name\":\"ScreenResolution\"},{\"name\":\"StartTime\"},{\"name\":\"Status\"},{\"name\":\"SupervisorTranscriptBody\"},{\"name\":\"SystemModstamp\"},{\"name\":\"UserAgent\"},{\"name\":\"AverageResponseTimeVisitor\"},{\"name\":\"IpAddress\"},{\"name\":\"MaxResponseTimeVisitor\"},{\"name\":\"VisitorMessageCount\"},{\"name\":\"WaitTime\"}],\"object\":\"LiveChatTranscript\"}},\"compute_LiveChatTranscriptEventLCT\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Number of Concurrent Chats\",\"name\":\"NumConcurrentChats\",\"saqlExpression\":\"case when 'IsNextChatEventTransfer' == \\\"true\\\"  then 'AgentStartCount' - 'AgentEndCount'- 'AgentTransferCount' +1 else 'AgentStartCount' - 'AgentEndCount' - 'AgentTransferCount' end\",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"Is Chat Transfered\",\"name\":\"IsChatTransfered\",\"saqlExpression\":\"case when 'LCT.Status' == \\\"Completed\\\" && (('Type' == \\\"Accept\\\") || ('Type' ==  \\\"Transfer\\\")  || ('Type' ==  \\\"OperatorJoinedConference\\\")) && 'LCT.StartTime' != 'Time' then 1 else 0 end \",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"Agent Chat End Time\",\"name\":\"AgentChatEndTime_sec_epoch\",\"precision\":18,\"saqlExpression\":\"case when 'TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch' then 'LCT.EndTime_sec_epoch' else 'TempAgentChatEndTime_sec_epoch' end \",\"scale\":2,\"type\":\"Numeric\"},{\"label\":\"Agent Chat Duration\",\"name\":\"AgentChatDuration\",\"precision\":18,\"saqlExpression\":\"case when 'TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch' then 'LCT.EndTime_sec_epoch' - 'Time_sec_epoch' else 'TempAgentChatEndTime_sec_epoch' - 'Time_sec_epoch' end \",\"scale\":2,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"compute_LiveChatTranscriptEvent_AgentSessions\"]},\"Extract_LiveChatButton\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"MasterLabel\"},{\"name\":\"CustomAgentName\"},{\"name\":\"Id\"}],\"object\":\"LiveChatButton\"}},\"Augment_Office\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Office__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Office\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Augment_SupportManager\",\"sfdcDigest_Office\"]},\"Extract_RecordTypes\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Name\"},{\"name\":\"Id\"}],\"object\":\"RecordType\"}},\"Extract_Account\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"defaultValue\":\"N/A\",\"name\":\"BillingState\"},{\"defaultValue\":\"N/A\",\"name\":\"Industry\"},{\"name\":\"Franchisor_Property_Code__c\"},{\"name\":\"Franchisor__c\"},{\"name\":\"ParentId\"},{\"name\":\"NI_Platinum_Support__c\"}],\"object\":\"Account\"}},\"compute_LiveChatTranscript\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\",\"label\":\"StartTime_15Min\",\"name\":\"StartTime_15Min\",\"saqlExpression\":\"toDate(floor(StartTime_sec_epoch/900)*900)\",\"type\":\"Date\"}],\"mergeWithSource\":true},\"sources\":[\"Join_LCTButton\"]},\"Join_ServiceCaseTaskEvent\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"relationship\":\"Event\",\"rightKey\":[\"WhatId\"],\"rightSelect\":[\"ActivityLastModifiedDate\"]},\"sources\":[\"Join_ServiceCaseServiceTask\",\"Compute_Extract_Event\"]},\"computeJoin_ServiceCaseTask\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"0\",\"label\":\"Last LastModifiedDate\",\"name\":\"sum_last_activity\",\"precision\":18,\"saqlExpression\":\"case when ('Task.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'Task.ActivityLastModifiedDate_sec_epoch')/86400 when ('LastModifiedDate_sec_epoch' >= 'Task.ActivityLastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400  else ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400 end\",\"scale\":2,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"Join_ServiceCaseServiceTask\"]},\"sfdcDigest_DeploymentInstance\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"name\":\"Description\"},{\"name\":\"DI_Name__c\"},{\"name\":\"Edition__c\"},{\"name\":\"Id\"},{\"name\":\"IsHostedDI__c\"},{\"name\":\"Line__c\"},{\"name\":\"Name\"},{\"name\":\"Product2Id\"},{\"name\":\"Product_Family__c\"},{\"name\":\"ProductCode\"},{\"name\":\"Product_Product_Group__c\"},{\"name\":\"Product_Product_Line__c\"},{\"name\":\"Product_Group__c\"},{\"name\":\"Product_Line__c\"},{\"name\":\"Status\"},{\"name\":\"Status_Change_Date__c\"}],\"object\":\"Asset\"}},\"augment_NIOrgParentAccount\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"NIOrgDetails.Primary_Account__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"NIOrgPrimaryAccount\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"augment_NIOrgDetails\",\"sfdcDigest_NIOrgParentAccount\"]},\"Add_Fields_To_Task\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\",\"label\":\"EndDateTime\",\"name\":\"EndDateTime\",\"saqlExpression\":\"now()\",\"type\":\"Date\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"Task\\\"\",\"type\":\"Text\"},{\"label\":\"EventSubtype\",\"name\":\"EventSubtype\",\"saqlExpression\":\"TaskSubtype\",\"type\":\"Text\"},{\"label\":\"ActivityType\",\"name\":\"ActivityType\",\"saqlExpression\":\"TaskSubtype\",\"type\":\"Text\"},{\"label\":\"ShowAs\",\"name\":\"ShowAs\",\"saqlExpression\":\"\\\"Task\\\"\",\"type\":\"Text\"},{\"defaultValue\":\"0\",\"label\":\"DurationInMinutes\",\"name\":\"DurationInMinutes\",\"precision\":8,\"saqlExpression\":\"0\",\"scale\":0,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_Task\"]},\"Extract_UserRole\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"ParentRoleId\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"LastModifiedDate\"},{\"name\":\"LastModifiedById\"},{\"name\":\"SystemModstamp\"}],\"object\":\"UserRole\"}},\"Join_CaseAccountContactUserUserRole\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Owner.UserRoleId\"],\"relationship\":\"Role\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"ParentRoleId\"]},\"sources\":[\"Join_CaseAccountContactUser\",\"Extract_UserRole\"]},\"Compute_Extract_Event\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"description\":\"ActivityLastModifiedDate\",\"expression\":{\"offset\":\"first()\",\"sourceField\":\"LastModifiedDate\",\"default\":\"current()\"},\"label\":\"ActivityLastModifiedDate\",\"name\":\"ActivityLastModifiedDate\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"LastModifiedDate\"}],\"partitionBy\":[\"WhatId\"]},\"sources\":[\"Extract_Event\"]},\"Join_LCTButton\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"LiveChatButtonId\"],\"relationship\":\"LiveChatButton\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"MasterLabel\",\"CustomAgentName\"]},\"sources\":[\"Extract_LiveChatTranscript\",\"Extract_LiveChatButton\"]},\"Filter_Activities\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"IsActivity:EQ:Yes\"},\"sources\":[\"Handle_Only_Activities\"]},\"augment_NIOrgAccount\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Account.Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"NIOrgAccount\",\"rightKey\":[\"AccountID__c\"],\"rightSelect\":[\"NIOrgDetailsID__c\"]},\"sources\":[\"augment_ManagementCompany\",\"digest_NIOrgAccount\"]},\"Extract_Event\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"OwnerId\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"LastModifiedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":false,\"name\":\"ActivityDate\"},{\"name\":\"EndDateTime\"},{\"defaultValue\":\"N/A\",\"name\":\"Subject\"},{\"name\":\"ShowAs\"},{\"name\":\"DurationInMinutes\"},{\"defaultValue\":\"N/A\",\"name\":\"EventSubtype\"},{\"defaultValue\":\"N/A\",\"name\":\"WhatId\"}],\"object\":\"Event\"}},\"Register_Case\":{\"action\":\"register\",\"parameters\":{\"label\":\"ServiceCase\",\"name\":\"ServiceCase\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"augment_HRMTemplate\"]},\"Augment_SupportTier\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Support_Tier_Designation__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"SupportTier\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Team__c\",\"Support_Rep_Role__c\",\"Support_Departure_Date__c\",\"SupportRep.Name\",\"Region__c\",\"Office.Name\",\"Name\",\"Inactive__c\",\"Do_Not_Report__c\",\"Department__c\",\"Business_Domain__c\",\"SupportManager.Name\",\"Tier__c\"]},\"sources\":[\"Handle_Null_RecordType\",\"Augment_Office\"]}}}",null]