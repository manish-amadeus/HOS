["{\"nodes\":{\"augment_OpptyOwner\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOppty.OwnerId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"TCOpptyOwner\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"augment_TCOppty\",\"digest_TCUser\"]},\"augment_TCOLI\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TC_Opportunity__c\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"TCOLI\",\"rightKey\":[\"OpportunityId\"],\"rightSelect\":[\"Product2Id\"]},\"sources\":[\"augment_Account\",\"digest_TCOLI\"]},\"augment_TCProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOLI.Product2Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"TCProduct\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"AH_Product_ID__c\",\"AH_Product_Price_Book_Entry_Id__c\",\"Name\",\"Product_Level_1__c\"]},\"sources\":[\"augment_TCOLI\",\"digest_TCProduct\"]},\"digest_Region\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"pse__Region__c\"}},\"digest_AHAccounts\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Forcivity_Match_ID__c\"},{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"Account\"}},\"digest_TCAccount\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"Account_Status__c\"},{\"name\":\"BID__c\"}],\"object\":\"Account\"}},\"augment_TCAccount\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOppty.AccountId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"TCAccount\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"BID__c\"]},\"sources\":[\"augment_TCQuote\",\"digest_TCAccount\"]},\"augment_TCOpptyBoomi\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Boomi\",\"rightKey\":[\"TC_Opportunity__c\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"digest_TCOppty\",\"digest_BoomiOppty\"]},\"augmentAccounts\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Forcivity_Match_ID__c\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"TCAccount\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Forcivity_Match_ID__c\",\"Name\",\"Id\"]},\"sources\":[\"digest_AHAccounts\",\"digest_TCAccounts\"]},\"augment_AHOpptySA\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Opportunity__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"AHOppty\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"TravelClick_Salesforce_Id__c\",\"OwnerId\",\"Amount\"]},\"sources\":[\"augment_ProjectSA\",\"digest_AHOppty\"]},\"compute_CalculatedField\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"CalculatedFilter\",\"name\":\"CalculatedFilter\",\"precision\":1,\"saqlExpression\":\"(case \\nwhen starts_with('Product_Code__c', \\\"TC4\\\") then 1 \\nwhen starts_with('Product_Code__c', \\\"O\\\") then 1\\nelse 0 end)\",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"ProductGroup\",\"name\":\"ProductGroup\",\"saqlExpression\":\"(case \\nwhen starts_with('Product_Code__c', \\\"TC4\\\") then \\\"Core 4\\\" \\nwhen starts_with('Product_Code__c', \\\"O\\\") then \\\"GMS Product\\\"\\nelse \\\"\\\" end)\",\"type\":\"Text\"},{\"label\":\"Email\",\"name\":\"Email\",\"saqlExpression\":\"case when 'Product_Code__c' == \\\"TC4Email\\\" then \\n'SubscriptionActivationTransaction.Date__c' end\",\"type\":\"Text\"},{\"firstDayOfWeek\":0,\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":true,\"label\":\"Email Marketing\",\"name\":\"EmailMarketing\",\"saqlExpression\":\"case when 'Product_Code__c' == \\\"TC4EmailMktg\\\" then \\ntoDate('SubscriptionActivationTransaction.Date__c_sec_epoch') end\",\"type\":\"Date\"},{\"firstDayOfWeek\":0,\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":true,\"label\":\"PMS\",\"name\":\"PMS\",\"saqlExpression\":\"case when 'Product_Code__c' == \\\"TC4PMS\\\" then \\ntoDate('SubscriptionActivationTransaction.Date__c_sec_epoch') end\",\"type\":\"Date\"},{\"firstDayOfWeek\":0,\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":true,\"label\":\"Portal\",\"name\":\"Portal\",\"saqlExpression\":\"case when 'Product_Code__c' == \\\"TC4Portal\\\" then \\ntoDate('SubscriptionActivationTransaction.Date__c_sec_epoch') end\",\"type\":\"Date\"},{\"firstDayOfWeek\":0,\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":true,\"label\":\"Live Date\",\"name\":\"LiveDate\",\"saqlExpression\":\"case when  starts_with('Product_Code__c', \\\"O\\\") then \\ntoDate('SubscriptionActivationTransaction.Date__c_sec_epoch') end\",\"type\":\"Date\"},{\"label\":\"Product\",\"name\":\"Product\",\"saqlExpression\":\"case when  starts_with('Product_Code__c', \\\"O\\\") then \\n'Product_Name__c' end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"augment_AHAccountSA\"]},\"digest_User\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Sales_Region__c\"}],\"object\":\"User\"}},\"digest_TCOLI\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"OpportunityId\"},{\"name\":\"Product2Id\"}],\"object\":\"OpportunityLineItem\"}},\"digest_Project\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"CreatedDate\"},{\"name\":\"pse__Opportunity__c\"},{\"name\":\"pse__Group__c\"},{\"name\":\"pse__Region__c\"},{\"name\":\"pse__Account__c\"}],\"object\":\"pse__Proj__c\"}},\"augment_ApprovedBy\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOppty.Approved_By__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ApprovedBy\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"filter_NoProducts\",\"digest_TCUser\"]},\"digest_AHOppty\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"CreatedDate\"},{\"name\":\"TravelClick_Salesforce_Id__c\"},{\"name\":\"OwnerId\"},{\"name\":\"Amount\"}],\"object\":\"Opportunity\"}},\"augment_SubscriptionActivationTransaction\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"SubscriptionActivationTransaction\",\"rightKey\":[\"Subscription_Activation_No__c\"],\"rightSelect\":[\"Date__c\",\"Name\",\"Quantity__c\",\"Status__c\"]},\"sources\":[\"filter_Group\",\"digest_SubscriptionActivationTransaction\"]},\"register_TCAccountValidation\":{\"action\":\"register\",\"parameters\":{\"label\":\"TCAccountValidation\",\"name\":\"TCAccountValidation\"},\"sources\":[\"augmentAHAccounts\"]},\"augment_ProjectSA\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Project__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Project\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"pse__Opportunity__c\",\"pse__Group__c\",\"pse__Region__c\",\"pse__Account__c\"]},\"sources\":[\"augment_SubscriptionActivationTransaction\",\"digest_Project\"]},\"digest_AHAccount\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Forcivity_Match_ID__c\"},{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"Type\"},{\"name\":\"AccountNumber\"}],\"object\":\"Account\"}},\"augment_Account\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOppty.AccountId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"TCAccount\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Account_Status__c\"]},\"sources\":[\"augment_OpptyOwner\",\"digest_TCAccount\"]},\"digest_BoomiOppty\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"AH_Opportunity__c\"},{\"name\":\"CreatedDate\"},{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"Sync_Status__c\"},{\"name\":\"TC_Opportunity__c\"}],\"object\":\"Boomi_Opportunity_Sync__c\"}},\"TCOrgId\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Org Id\",\"name\":\"OrgId\",\"saqlExpression\":\"\\\"00D400000008XSQEA2\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"digest_TCOppty\"]},\"register_BoomiNullRecords\":{\"action\":\"register\",\"parameters\":{\"label\":\"BoomiRecordsNotCreated\",\"name\":\"BoomiRecordsNotCreated\"},\"sources\":[\"AHSyncFilter\"]},\"register_BoomiOppty\":{\"action\":\"register\",\"parameters\":{\"label\":\"BoomiOppty\",\"name\":\"BoomiOppty\"},\"sources\":[\"augment_ProjectCreateDate\"]},\"augment_AHUser\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AHOppty.OwnerId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"OpptyOwner\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Sales_Region__c\"]},\"sources\":[\"augment_Region\",\"digest_User\"]},\"augment_TCOpptySA\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AHOppty.TravelClick_Salesforce_Id__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"TCOppty\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"Name\",\"AccountId\",\"Delivery_Start_Date__c\",\"Term_Rebuild__c\",\"BID__c\"]},\"sources\":[\"augment_AHOpptySA\",\"digest_TCOppty\"]},\"augment_TCOppty\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TC_Opportunity__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"TCOppty\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Sync_Opportunity_to_AH__c\",\"forcivit__c\",\"Name\",\"StageName\",\"Amadeus_User_ID__c\",\"OwnerId\",\"AccountId\",\"CloseDate\",\"Approval_Date__c\",\"Approved_By__c\",\"OrgId\",\"Delivery_Start_Date__c\",\"Term_Rebuild__c\"]},\"sources\":[\"digest_BoomiOppty\",\"TCOrgId\"]},\"augment_Project\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AHOppty.Id\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"Project\",\"rightKey\":[\"pse__Opportunity__c\"],\"rightSelect\":[\"Id\",\"Name\",\"pse__Group__c\",\"pse__Region__c\"]},\"sources\":[\"augment_AHOppty\",\"digest_Project\"]},\"AHSyncFilter\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'Sync_Opportunity_to_AH__c' == \\\"true\\\"\"},\"sources\":[\"FilterNullBoomiRecords\"]},\"compute_TCOrgId\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"TCOrgId\",\"name\":\"TCOrgId\",\"saqlExpression\":\"\\\"00D400000008XSQEA2\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Filter_Products\"]},\"augment_AHAccountSA\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Account__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"AHAccount\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"AccountNumber\"]},\"sources\":[\"augment_TCAccount\",\"digest_AHAccount\"]},\"augmentAHAccounts\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Forcivity_Match_ID__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"AHAccounts\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Forcivity_Match_ID__c\",\"Id\",\"Name\"]},\"sources\":[\"digest_TCAccounts\",\"digest_AHAccounts\"]},\"augment_AHAccount\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOppty.forcivit__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"AHAccount\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Forcivity_Match_ID__c\",\"Name\",\"Type\"]},\"sources\":[\"augment_Project\",\"digest_AHAccount\"]},\"augment_AHOppty\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TC_Opportunity__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"AHOppty\",\"rightKey\":[\"TravelClick_Salesforce_Id__c\"],\"rightSelect\":[\"Name\",\"CreatedDate\",\"Id\",\"TravelClick_Salesforce_Id__c\",\"OwnerId\",\"Amount\"]},\"sources\":[\"augment_TCProduct\",\"digest_AHOppty\"]},\"augment_Region\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Project.pse__Region__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Region\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"augment_ApprovedBy\",\"digest_Region\"]},\"digest_SubscriptionActivation\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Account__c\"},{\"name\":\"Id\"},{\"name\":\"Group__c\"},{\"name\":\"Name\"},{\"name\":\"Opportunity__c\"},{\"name\":\"Project__c\"},{\"name\":\"Sales_Prices__c\"},{\"name\":\"Status__c\"},{\"name\":\"TotalPrice__c\"},{\"name\":\"Product_Code__c\"},{\"name\":\"Product_Name__c\"},{\"name\":\"Project_Manager__c\"}],\"object\":\"Subscription_Activation__c\"}},\"digest_Group\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"pse__Grp__c\"}},\"digest_TCOppty\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"ID18_Opportunity__c\"},{\"name\":\"Sync_Opportunity_to_AH__c\"},{\"name\":\"forcivit__c\"},{\"name\":\"Name\"},{\"name\":\"StageName\"},{\"name\":\"Amadeus_User_ID__c\"},{\"name\":\"OwnerId\"},{\"name\":\"AccountId\"},{\"name\":\"CloseDate\"},{\"name\":\"Delivery_Start_Date__c\"},{\"name\":\"Term_Rebuild__c\"},{\"name\":\"Approval_Date__c\"},{\"name\":\"Approved_By__c\"},{\"name\":\"BID__c\"}],\"object\":\"Opportunity\"}},\"register_GMSRevenue\":{\"action\":\"register\",\"parameters\":{\"label\":\"GMS Revenue\",\"name\":\"GMSRevenue\"},\"sources\":[\"compute_TCOrgId\"]},\"digest_TCUser\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"User\"}},\"augment_Group\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Project.pse__Group__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Group\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"augment_AHAccount\",\"digest_Group\"]},\"filter_NoProducts\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'TCProduct.Name' is not null \"},\"sources\":[\"compute_BoomiStatus\"]},\"augment_TCQuote\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"TCOppty.Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Quote\",\"rightKey\":[\"zqu__Opportunity__c\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"augment_TCOpptySA\",\"digest_TCQuote\"]},\"Filter_Products\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'CalculatedFilter' == 1\"},\"sources\":[\"compute_CalculatedField\"]},\"register_AccountValidation\":{\"action\":\"register\",\"parameters\":{\"label\":\"AHAccountValidation\",\"name\":\"AHAccountValidation\"},\"sources\":[\"augmentAccounts\"]},\"compute_BoomiStatus\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Status\",\"name\":\"Status\",\"saqlExpression\":\"case\\nwhen 'AHOppty.Id' is not null then \\\"synced\\\"\\nwhen 'TCOppty.Amadeus_User_ID__c' is null && 'TCProduct.Name' is not null then \\\"Missing Owner Id\\\"\\nwhen 'TCOppty.StageName' == \\\"Closed Lost\\\" then \\\"Closed Lost\\\"\\nwhen 'AHAccount.Type' == \\\"Permanently Closed\\\" then \\\"Permanently Closed\\\"\\nwhen 'TCProduct.Name' is not null && 'TCProduct.AH_Product_Price_Book_Entry_Id__c' is null then \\\"Missing Pricebook Id\\\"\\nwhen ('TCOppty.forcivit__c' is null || ('AHAccount.Name' is null && ('Sync_Status__c' != \\\"synced\\\" || 'Sync_Status__c' is null) && 'TCOppty.Name' is not null)) && 'TCProduct.Name' is not null then \\\"Missing/Incorrect Forcivity Id\\\"\\nwhen 'AHAccount.Name' is not null && 'TCProduct.Name' is not null && 'TCOppty.Amadeus_User_ID__c' is not null && 'TCProduct.AH_Product_Price_Book_Entry_Id__c' is not null && \\n'AH_Opportunity__c' is null then 'Sync_Status__c'\\nend\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"augment_Group\"]},\"digest_TCQuote\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Name\"},{\"name\":\"zqu__Opportunity__c\"}],\"object\":\"zqu__Quote__c\"}},\"augment_ProjectCreateDate\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Project.Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ProjectCreate\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"CreatedDate\"]},\"sources\":[\"augment_AHUser\",\"digest_Project\"]},\"filter_Group\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"Group__c == \\\"a2H3g000000HNxnEAG\\\"\"},\"sources\":[\"digest_SubscriptionActivation\"]},\"digest_SubscriptionActivationTransaction\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"SFDC_LOCAL\",\"fields\":[{\"name\":\"Name\"},{\"name\":\"Subscription_Activation_No__c\"},{\"name\":\"Quantity__c\"},{\"name\":\"Status__c\"},{\"name\":\"Date__c\"}],\"object\":\"Subscription_Activation_Transaction__c\"}},\"digest_TCProduct\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"AH_Product_ID__c\"},{\"name\":\"AH_Product_Price_Book_Entry_Id__c\"},{\"name\":\"Product_Level_1__c\"}],\"object\":\"Product2\"}},\"digest_TCAccounts\":{\"action\":\"digest\",\"parameters\":{\"connectionName\":\"Travelclick\",\"fields\":[{\"name\":\"Forcivity_Match_ID__c\"},{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"Account\"}},\"FilterNullBoomiRecords\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'Boomi.Name' is null\"},\"sources\":[\"augment_TCOpptyBoomi\"]}}}",null]