<apex:page standardcontroller="NI_Project_Backlog__c" recordSetVar="records" extensions="NI_CalculateTimeFrameScheduler" >
    <apex:form id="idfrm" >
            <apex:outputpanel >
        <apex:actionstatus id="actStatusId">
            <apex:facet name="start">
                <div class="waitingSearchDiv" id="el_loading" style="background-color: #DCD6D6;
                       height: 100%;opacity:0.65;width:100%;"> 
                    <div class="waitingHolder" style="top: 74.2px; width: 91px;">
                        <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." />
                        <span class="waitingDescription">Processing ...</span>
                    </div>
                </div>
            </apex:facet>
        </apex:actionstatus>
</apex:outputpanel>
                
        <apex:Pagemessages />
        <apex:pageBlock mode="edit" title="Select Record Type and Team:">
             <apex:pageBlockButtons location="bottom">
                <apex:commandButton value="Submit" action="{!doSubmit}" id="submitButton" disabled="{!disableButton}" status="actStatusId" reRender="idfrm" />
               <!-- <apex:commandButton value="Cancel" action="{!doCancel}" id="cancelButton" disabled="{!disableButton}"/>-->
                  <apex:commandButton value="Cancel" onclick="window.close()" id="cancelButton" disabled="{!disableButton}"/>
                 <apex:commandButton value="Close" onclick="window.close()" />
            </apex:pageBlockButtons>
            <apex:pageBlockSection columns="1">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel >Record Type: </apex:outputLabel>
                    <apex:actionRegion >   
                        <apex:selectList required="true" value="{!selectedRecType}" multiselect="false" size="1">
                            <apex:actionSupport event="onchange" action="{!getTeams}" reRender="teamId,submitButton,cancelButton" />
                            <apex:selectOptions value="{!allRecTypes}">
                            </apex:selectOptions>
                        </apex:selectList>
                    </apex:actionRegion>      
                </apex:pageBlockSectionItem>
           
                
                 <apex:pageBlockSectionItem >
                <apex:outputLabel >Team: </apex:outputLabel>
                
                <apex:selectList value="{!selectedTeam}" required="true" multiselect="false" size="1" id="teamId" >
                    <apex:selectOptions value="{!projTeams}" >
                       <!-- <apex:actionSupport event="onchange" reRender="submitButton" />-->
                    </apex:selectOptions>
                </apex:selectList>
                       
                    </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
</apex:page>